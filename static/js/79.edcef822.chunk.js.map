{"version":3,"sources":["views/kanban/KanbanView/Header.tsx","views/kanban/KanbanView/CardEditModal/ActionButton.tsx","views/kanban/KanbanView/CardEditModal/CheckItem.tsx","views/kanban/KanbanView/CardEditModal/CheckItemAdd.tsx","views/kanban/KanbanView/CardEditModal/Checklist.tsx","views/kanban/KanbanView/CardEditModal/Comment.tsx","views/kanban/KanbanView/CardEditModal/CommentAdd.tsx","views/kanban/KanbanView/CardEditModal/Details.tsx","views/kanban/KanbanView/CardEditModal/index.tsx","views/kanban/KanbanView/Card.tsx","views/kanban/KanbanView/CardAdd.tsx","views/kanban/KanbanView/List.tsx","views/kanban/KanbanView/ListAdd.tsx","views/kanban/KanbanView/index.tsx"],"names":["useStyles","makeStyles","root","Header","className","rest","classes","clsx","Breadcrumbs","separator","fontSize","aria-label","Link","variant","color","to","component","RouterLink","Typography","theme","justifyContent","marginTop","spacing","marginBottom","ActionButton","iconProp","icon","children","Icon","SvgIcon","Button","fullWidth","size","startIcon","padding","display","alignItems","borderRadius","shape","backgroundColor","palette","background","dark","visibility","checkbox","marginLeft","marginRight","name","flexGrow","cursor","minHeight","deleteButton","CheckItem","card","checklist","checkItem","editing","onEditCancel","onEditInit","onEditComplete","dispatch","useDispatch","enqueueSnackbar","useSnackbar","useState","setName","handleStateChange","event","a","persist","state","target","checked","updateCheckItem","id","console","error","handleSave","handleDelete","deleteCheckItem","Checkbox","onChange","Box","TextField","value","mt","onClick","IconButton","defaultProps","CheckItemAdd","isExpanded","setExpanded","addCheckItem","placeholder","listIcon","Checklist","editingName","setEditingName","editingCheckItem","setEditingCheckItem","handleNameSave","updateChecklist","deleteChecklist","handleCheckItemEditCancel","handleCheckItemEditComplete","totalCheckItems","checkItems","length","completedCheckItems","filter","completePercentage","Math","round","ml","LinearProgress","map","key","checkItemId","messageContainer","Comment","comment","member","useSelector","memberId","kanban","members","byId","memberSelector","Avatar","alt","src","avatar","gutterBottom","Paper","message","moment","createdAt","format","field","CommentAdd","cardId","user","useAuth","setMessage","handleKeyUp","keyCode","addComment","onKeyUp","Details","list","handleUpdate","_","debounce","update","updateCard","defaultValue","label","multiline","rows","description","listName","fontWeight","typography","fontWeightMedium","CardEditModal","onClose","open","handleSubscribe","isSubscribed","handleUnsubscribe","deleteCard","handleAddChecklist","addChecklist","Dialog","maxWidth","Grid","container","item","xs","sm","checklists","comments","disabled","Divider","outline","paddingTop","paddingBottom","dragging","cover","height","badge","Card","forwardRef","ref","index","style","cards","memberIds","cardSelector","isOpened","setOpened","raised","CardMedia","image","CardContent","attachments","AvatarGroup","max","CardAdd","listId","handleAddConfirm","createCard","inner","flexDirection","maxHeight","overflowY","overflowX","width","breakpoints","down","title","droppableArea","paddingLeft","paddingRight","menu","List","isMenuOpen","setMenuOpen","lists","listSelector","moreRef","useRef","isRenaming","setRenaming","handleRenameInit","handleRename","updateList","deleteList","handleClear","clearList","py","px","ClickAwayListener","onClickAway","onBlur","margin","edge","droppableId","type","provided","innerRef","cardIds","draggableId","snapshot","isDragging","draggableProps","dragHandleProps","p","Menu","keepMounted","anchorEl","current","anchorOrigin","vertical","horizontal","PaperProps","getContentAnchorEl","MenuItem","ListAdd","createList","overflow","content","flexShrink","KanbanView","handleDragEnd","source","destination","moveCard","useEffect","getBoard","Page","onDragEnd","allIds"],"mappings":"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","file":"static/js/79.edcef822.chunk.js","sourcesContent":["import { Breadcrumbs, Link, makeStyles, Typography } from '@material-ui/core';\r\nimport NavigateNextIcon from '@material-ui/icons/NavigateNext';\r\nimport clsx from 'clsx';\r\nimport PropTypes from 'prop-types';\r\nimport React, { FC } from 'react';\r\nimport { Link as RouterLink } from 'react-router-dom';\r\n\r\ninterface HeaderProps {\r\n  className?: string;\r\n}\r\n\r\nconst useStyles = makeStyles(() => ({\r\n  root: {}\r\n}));\r\n\r\nconst Header: FC<HeaderProps> = ({ className, ...rest }) => {\r\n  const classes = useStyles();\r\n\r\n  return (\r\n    <div className={clsx(classes.root, className)} {...rest}>\r\n      <Breadcrumbs\r\n        separator={<NavigateNextIcon fontSize=\"small\" />}\r\n        aria-label=\"breadcrumb\"\r\n      >\r\n        <Link variant=\"body1\" color=\"inherit\" to=\"/app\" component={RouterLink}>\r\n          Dashboard\r\n        </Link>\r\n        <Typography variant=\"body1\" color=\"textPrimary\">\r\n          Kanban\r\n        </Typography>\r\n      </Breadcrumbs>\r\n      <Typography variant=\"h3\" color=\"textPrimary\">\r\n        Board\r\n      </Typography>\r\n    </div>\r\n  );\r\n};\r\n\r\nHeader.propTypes = {\r\n  className: PropTypes.string\r\n};\r\n\r\nexport default Header;\r\n","import { Button, ButtonProps, makeStyles, SvgIcon } from '@material-ui/core';\r\nimport PropTypes from 'prop-types';\r\nimport React, { FC, ReactElement, ReactNode } from 'react';\r\nimport { Theme } from 'src/theme';\r\n\r\ninterface ActionButtonProps extends ButtonProps {\r\n  icon?: ReactElement;\r\n  children?: ReactNode;\r\n}\r\n\r\nconst useStyles = makeStyles((theme: Theme) => ({\r\n  root: {\r\n    justifyContent: 'flex-start',\r\n    marginTop: theme.spacing(1),\r\n    marginBottom: theme.spacing(1)\r\n  }\r\n}));\r\n\r\nconst ActionButton: FC<ActionButtonProps> = ({\r\n  icon: iconProp,\r\n  children,\r\n  ...rest\r\n}) => {\r\n  const classes = useStyles();\r\n\r\n  const Icon = iconProp ? <SvgIcon fontSize=\"small\">{iconProp}</SvgIcon> : null;\r\n\r\n  return (\r\n    <Button\r\n      className={classes.root}\r\n      fullWidth\r\n      variant=\"contained\"\r\n      size=\"small\"\r\n      startIcon={Icon}\r\n      {...rest}\r\n    >\r\n      {children}\r\n    </Button>\r\n  );\r\n};\r\n\r\nActionButton.propTypes = {\r\n  icon: PropTypes.element,\r\n  children: PropTypes.node\r\n};\r\n\r\nexport default ActionButton;\r\n","import {\r\n  Box,\r\n  Button,\r\n  Checkbox,\r\n  IconButton,\r\n  makeStyles,\r\n  SvgIcon,\r\n  TextField,\r\n  Typography\r\n} from '@material-ui/core';\r\nimport clsx from 'clsx';\r\nimport { useSnackbar } from 'notistack';\r\nimport PropTypes from 'prop-types';\r\nimport React, { ChangeEvent, FC, useState } from 'react';\r\nimport { Trash as TrashIcon } from 'react-feather';\r\nimport { deleteCheckItem, updateCheckItem } from 'src/slices/kanban';\r\nimport { useDispatch } from 'src/store';\r\nimport { Theme } from 'src/theme';\r\nimport { Card, CheckItem as CheckItemType, Checklist } from 'src/types/kanban';\r\n\r\ninterface CheckItemProps {\r\n  className?: string;\r\n  card: Card;\r\n  checklist: Checklist;\r\n  checkItem: CheckItemType;\r\n  editing?: boolean;\r\n  onEditCancel?: () => void;\r\n  onEditComplete?: () => void;\r\n  onEditInit?: () => void;\r\n}\r\n\r\nconst useStyles = makeStyles((theme: Theme) => ({\r\n  root: {\r\n    padding: theme.spacing(1),\r\n    display: 'flex',\r\n    alignItems: 'flex-start',\r\n    borderRadius: theme.shape.borderRadius,\r\n    '&:hover': {\r\n      backgroundColor: theme.palette.background.dark,\r\n      '& $deleteButton': {\r\n        visibility: 'visible'\r\n      }\r\n    }\r\n  },\r\n  checkbox: {\r\n    marginLeft: theme.spacing(-1),\r\n    marginRight: theme.spacing(1)\r\n  },\r\n  name: {\r\n    flexGrow: 1,\r\n    cursor: 'pointer',\r\n    minHeight: 32\r\n  },\r\n  deleteButton: {\r\n    visibility: 'hidden'\r\n  }\r\n}));\r\n\r\nconst CheckItem: FC<CheckItemProps> = ({\r\n  card,\r\n  checklist,\r\n  checkItem,\r\n  className,\r\n  editing,\r\n  onEditCancel,\r\n  onEditInit,\r\n  onEditComplete,\r\n  ...rest\r\n}) => {\r\n  const classes = useStyles();\r\n  const dispatch = useDispatch();\r\n  const { enqueueSnackbar } = useSnackbar();\r\n  const [name, setName] = useState<string>(checkItem.name);\r\n\r\n  const handleStateChange = async (\r\n    event: ChangeEvent<HTMLInputElement>\r\n  ): Promise<void> => {\r\n    try {\r\n      event.persist();\r\n\r\n      const state = event.target.checked ? 'complete' : 'incomplete';\r\n\r\n      await dispatch(\r\n        updateCheckItem(card.id, checklist.id, checkItem.id, { state })\r\n      );\r\n      enqueueSnackbar('Check item updated', {\r\n        variant: 'success'\r\n      });\r\n    } catch (err) {\r\n      console.error(err);\r\n      enqueueSnackbar('Something went wrong', {\r\n        variant: 'error'\r\n      });\r\n    }\r\n  };\r\n\r\n  const handleNameChange = (event: ChangeEvent<HTMLInputElement>): void => {\r\n    event.persist();\r\n    setName(event.target.value);\r\n  };\r\n\r\n  const handleSave = async (): Promise<void> => {\r\n    try {\r\n      await dispatch(\r\n        updateCheckItem(card.id, checklist.id, checkItem.id, { name })\r\n      );\r\n      onEditComplete();\r\n      enqueueSnackbar('Check item updated', {\r\n        variant: 'success'\r\n      });\r\n    } catch (err) {\r\n      console.error(err);\r\n      enqueueSnackbar('Something went wrong', {\r\n        variant: 'error'\r\n      });\r\n    }\r\n  };\r\n\r\n  const handleCancel = (): void => {\r\n    setName(checkItem.name);\r\n    onEditCancel();\r\n  };\r\n\r\n  const handleDelete = async (): Promise<void> => {\r\n    try {\r\n      await dispatch(deleteCheckItem(card.id, checklist.id, checkItem.id));\r\n      enqueueSnackbar('Check item deleted', {\r\n        variant: 'success'\r\n      });\r\n    } catch (err) {\r\n      console.error(err);\r\n      enqueueSnackbar('Something went wrong', {\r\n        variant: 'error'\r\n      });\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div className={clsx(classes.root, className)} {...rest}>\r\n      <Checkbox\r\n        checked={checkItem.state === 'complete'}\r\n        onChange={handleStateChange}\r\n        className={classes.checkbox}\r\n      />\r\n      {editing ? (\r\n        <Box flexGrow={1}>\r\n          <TextField\r\n            value={name}\r\n            variant=\"outlined\"\r\n            fullWidth\r\n            onChange={handleNameChange}\r\n          />\r\n          <Box mt={1}>\r\n            <Button\r\n              size=\"small\"\r\n              variant=\"contained\"\r\n              color=\"secondary\"\r\n              onClick={handleSave}\r\n            >\r\n              Save\r\n            </Button>\r\n            <Button size=\"small\" onClick={handleCancel}>\r\n              Cancel\r\n            </Button>\r\n          </Box>\r\n        </Box>\r\n      ) : (\r\n        <Box display=\"flex\" alignItems=\"center\" flexGrow={1}>\r\n          <Typography\r\n            onClick={onEditInit}\r\n            color=\"textPrimary\"\r\n            variant=\"body1\"\r\n            className={classes.name}\r\n          >\r\n            {checkItem.name}\r\n          </Typography>\r\n          <IconButton onClick={handleDelete} className={classes.deleteButton}>\r\n            <SvgIcon fontSize=\"small\">\r\n              <TrashIcon />\r\n            </SvgIcon>\r\n          </IconButton>\r\n        </Box>\r\n      )}\r\n    </div>\r\n  );\r\n};\r\n\r\nCheckItem.propTypes = {\r\n  // @ts-ignore\r\n  card: PropTypes.object.isRequired,\r\n  // @ts-ignore\r\n  checklist: PropTypes.object.isRequired,\r\n  // @ts-ignore\r\n  checkItem: PropTypes.object.isRequired,\r\n  className: PropTypes.string,\r\n  editing: PropTypes.bool,\r\n  onEditCancel: PropTypes.func,\r\n  onEditComplete: PropTypes.func,\r\n  onEditInit: PropTypes.func\r\n};\r\n\r\nCheckItem.defaultProps = {\r\n  editing: false,\r\n  onEditCancel: () => {},\r\n  onEditComplete: () => {},\r\n  onEditInit: () => {}\r\n};\r\n\r\nexport default CheckItem;\r\n","import { Box, Button, makeStyles, TextField } from '@material-ui/core';\r\nimport clsx from 'clsx';\r\nimport { useSnackbar } from 'notistack';\r\nimport PropTypes from 'prop-types';\r\nimport React, { ChangeEvent, FC, useState } from 'react';\r\nimport { addCheckItem } from 'src/slices/kanban';\r\nimport { useDispatch } from 'src/store';\r\nimport { Card, Checklist } from 'src/types/kanban';\r\n\r\ninterface CheckItemAddProps {\r\n  className?: string;\r\n  card: Card;\r\n  checklist: Checklist;\r\n}\r\n\r\nconst useStyles = makeStyles(() => ({\r\n  root: {}\r\n}));\r\n\r\nconst CheckItemAdd: FC<CheckItemAddProps> = ({\r\n  card,\r\n  checklist,\r\n  className,\r\n  ...rest\r\n}) => {\r\n  const classes = useStyles();\r\n  const dispatch = useDispatch();\r\n  const { enqueueSnackbar } = useSnackbar();\r\n  const [name, setName] = useState<string>('');\r\n  const [isExpanded, setExpanded] = useState<boolean>(false);\r\n\r\n  const handleAdd = (): void => {\r\n    setExpanded(true);\r\n  };\r\n\r\n  const handleCancel = (): void => {\r\n    setExpanded(false);\r\n    setName('');\r\n  };\r\n\r\n  const handleChange = (event: ChangeEvent<HTMLInputElement>): void => {\r\n    event.persist();\r\n    setName(event.target.value);\r\n  };\r\n\r\n  const handleSave = async (): Promise<void> => {\r\n    try {\r\n      if (!name) {\r\n        return;\r\n      }\r\n\r\n      await dispatch(addCheckItem(card.id, checklist.id, name));\r\n      setExpanded(false);\r\n      setName('');\r\n      enqueueSnackbar('Check item added', {\r\n        variant: 'success'\r\n      });\r\n    } catch (err) {\r\n      console.error(err);\r\n      enqueueSnackbar('Something went wrong', {\r\n        variant: 'error'\r\n      });\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div className={clsx(classes.root, className)} {...rest}>\r\n      {isExpanded ? (\r\n        <div>\r\n          <TextField\r\n            fullWidth\r\n            onChange={handleChange}\r\n            placeholder=\"Add an item\"\r\n            value={name}\r\n            variant=\"outlined\"\r\n          />\r\n          <Box mt={1}>\r\n            <Button\r\n              variant=\"contained\"\r\n              color=\"primary\"\r\n              size=\"small\"\r\n              onClick={handleSave}\r\n            >\r\n              Save\r\n            </Button>\r\n            <Button size=\"small\" onClick={handleCancel}>\r\n              Cancel\r\n            </Button>\r\n          </Box>\r\n        </div>\r\n      ) : (\r\n        <Button variant=\"outlined\" size=\"small\" onClick={handleAdd}>\r\n          Add an item\r\n        </Button>\r\n      )}\r\n    </div>\r\n  );\r\n};\r\n\r\nCheckItemAdd.propTypes = {\r\n  // @ts-ignore\r\n  card: PropTypes.object.isRequired,\r\n  // @ts-ignore\r\n  checklist: PropTypes.object.isRequired,\r\n  className: PropTypes.string\r\n};\r\n\r\nexport default CheckItemAdd;\r\n","import {\r\n  Box,\r\n  Button,\r\n  LinearProgress,\r\n  makeStyles,\r\n  SvgIcon,\r\n  TextField,\r\n  Typography\r\n} from '@material-ui/core';\r\nimport clsx from 'clsx';\r\nimport { useSnackbar } from 'notistack';\r\nimport PropTypes from 'prop-types';\r\nimport React, { ChangeEvent, FC, useState } from 'react';\r\nimport { List as ListIcon } from 'react-feather';\r\nimport { deleteChecklist, updateChecklist } from 'src/slices/kanban';\r\nimport { useDispatch } from 'src/store';\r\nimport { Theme } from 'src/theme';\r\nimport { Card, Checklist as ChecklistType } from 'src/types/kanban';\r\nimport CheckItem from './CheckItem';\r\nimport CheckItemAdd from './CheckItemAdd';\r\n\r\ninterface ChecklistProps {\r\n  className?: string;\r\n  card: Card;\r\n  checklist: ChecklistType;\r\n}\r\n\r\nconst useStyles = makeStyles((theme: Theme) => ({\r\n  root: {},\r\n  listIcon: {\r\n    marginRight: theme.spacing(3)\r\n  }\r\n}));\r\n\r\nconst Checklist: FC<ChecklistProps> = ({\r\n  card,\r\n  checklist,\r\n  className,\r\n  ...rest\r\n}) => {\r\n  const classes = useStyles();\r\n  const dispatch = useDispatch();\r\n  const { enqueueSnackbar } = useSnackbar();\r\n  const [name, setName] = useState<string>(checklist.name);\r\n  const [editingName, setEditingName] = useState<boolean>(false);\r\n  const [editingCheckItem, setEditingCheckItem] = useState<string | null>(null);\r\n\r\n  const handleNameEdit = (): void => {\r\n    setEditingName(true);\r\n  };\r\n\r\n  const handleNameChange = (event: ChangeEvent<HTMLInputElement>): void => {\r\n    event.persist();\r\n    setName(event.target.value);\r\n  };\r\n\r\n  const handleNameSave = async (): Promise<void> => {\r\n    try {\r\n      if (!name || name === checklist.name) {\r\n        setEditingName(false);\r\n        setName(checklist.name);\r\n        return;\r\n      }\r\n\r\n      setEditingName(false);\r\n      await dispatch(updateChecklist(card.id, checklist.id, { name }));\r\n      enqueueSnackbar('Checklist updated', {\r\n        variant: 'success'\r\n      });\r\n    } catch (err) {\r\n      console.error(err);\r\n      enqueueSnackbar('Something went wrong', {\r\n        variant: 'error'\r\n      });\r\n    }\r\n  };\r\n\r\n  const handleNameCancel = (): void => {\r\n    setEditingName(false);\r\n    setName(checklist.name);\r\n  };\r\n\r\n  const handleDelete = async (): Promise<void> => {\r\n    try {\r\n      await dispatch(deleteChecklist(card.id, checklist.id));\r\n      enqueueSnackbar('Checklist deleted', {\r\n        variant: 'success'\r\n      });\r\n    } catch (err) {\r\n      console.error(err);\r\n      enqueueSnackbar('Something went wrong', {\r\n        variant: 'error'\r\n      });\r\n    }\r\n  };\r\n\r\n  const handleCheckItemEditInit = (checkItemId: string): void => {\r\n    setEditingCheckItem(checkItemId);\r\n  };\r\n\r\n  const handleCheckItemEditCancel = (): void => {\r\n    setEditingCheckItem(null);\r\n  };\r\n\r\n  const handleCheckItemEditComplete = (): void => {\r\n    setEditingCheckItem(null);\r\n  };\r\n\r\n  const totalCheckItems = checklist.checkItems.length;\r\n  const completedCheckItems = checklist.checkItems.filter(\r\n    checkItem => checkItem.state === 'complete'\r\n  ).length;\r\n  const completePercentage =\r\n    totalCheckItems === 0 ? 100 : (completedCheckItems / totalCheckItems) * 100;\r\n\r\n  return (\r\n    <div className={clsx(classes.root, className)} {...rest}>\r\n      <Box display=\"flex\">\r\n        <SvgIcon fontSize=\"small\" color=\"action\" className={classes.listIcon}>\r\n          <ListIcon />\r\n        </SvgIcon>\r\n        {editingName ? (\r\n          <Box flexGrow={1}>\r\n            <TextField\r\n              value={name}\r\n              fullWidth\r\n              variant=\"outlined\"\r\n              onChange={handleNameChange}\r\n            />\r\n            <Box mt={1}>\r\n              <Button\r\n                color=\"primary\"\r\n                size=\"small\"\r\n                variant=\"contained\"\r\n                onClick={handleNameSave}\r\n              >\r\n                Save\r\n              </Button>\r\n              <Button size=\"small\" onClick={handleNameCancel}>\r\n                Cancel\r\n              </Button>\r\n            </Box>\r\n          </Box>\r\n        ) : (\r\n          <Box display=\"flex\" alignItems=\"center\" flexGrow={1}>\r\n            <Typography\r\n              variant=\"h4\"\r\n              color=\"textPrimary\"\r\n              onClick={handleNameEdit}\r\n            >\r\n              {checklist.name}\r\n            </Typography>\r\n            <Box flexGrow={1} />\r\n            <Button size=\"small\" onClick={handleDelete}>\r\n              Delete\r\n            </Button>\r\n          </Box>\r\n        )}\r\n      </Box>\r\n      <Box mt={1} display=\"flex\" alignItems=\"center\">\r\n        <Typography variant=\"caption\" color=\"textSecondary\">\r\n          {Math.round(completePercentage)}%\r\n        </Typography>\r\n        <Box ml={2} flexGrow={1}>\r\n          <LinearProgress\r\n            variant=\"determinate\"\r\n            value={completePercentage}\r\n            color=\"secondary\"\r\n          />\r\n        </Box>\r\n      </Box>\r\n      <Box mt={3}>\r\n        {checklist.checkItems.map(checkItem => (\r\n          <CheckItem\r\n            editing={editingCheckItem === checkItem.id}\r\n            checkItem={checkItem}\r\n            card={card}\r\n            checklist={checklist}\r\n            key={checkItem.id}\r\n            onEditCancel={handleCheckItemEditCancel}\r\n            onEditComplete={handleCheckItemEditComplete}\r\n            onEditInit={() => handleCheckItemEditInit(checkItem.id)}\r\n          />\r\n        ))}\r\n      </Box>\r\n      <Box mt={1} ml={6}>\r\n        <CheckItemAdd card={card} checklist={checklist} />\r\n      </Box>\r\n    </div>\r\n  );\r\n};\r\n\r\nChecklist.propTypes = {\r\n  className: PropTypes.string,\r\n  // @ts-ignore\r\n  card: PropTypes.object.isRequired,\r\n  // @ts-ignore\r\n  checklist: PropTypes.object.isRequired\r\n};\r\n\r\nexport default Checklist;\r\n","import { Avatar, Box, makeStyles, Paper, Typography } from '@material-ui/core';\r\nimport clsx from 'clsx';\r\nimport moment from 'moment';\r\nimport PropTypes from 'prop-types';\r\nimport React, { FC } from 'react';\r\nimport { RootState, useSelector } from 'src/store';\r\nimport { Theme } from 'src/theme';\r\nimport { Comment as CommentType, Member } from 'src/types/kanban';\r\n\r\ninterface CommentProps {\r\n  className?: string;\r\n  comment: CommentType;\r\n}\r\n\r\nconst memberSelector = (state: RootState, memberId: string): Member => {\r\n  const { members } = state.kanban;\r\n\r\n  return members.byId[memberId];\r\n};\r\n\r\nconst useStyles = makeStyles((theme: Theme) => ({\r\n  root: {\r\n    display: 'flex',\r\n    marginBottom: theme.spacing(2)\r\n  },\r\n  messageContainer: {\r\n    backgroundColor: theme.palette.background.dark,\r\n    marginBottom: theme.spacing(1),\r\n    padding: theme.spacing(2)\r\n  }\r\n}));\r\n\r\nconst Comment: FC<CommentProps> = ({ comment, className, ...rest }) => {\r\n  const classes = useStyles();\r\n  const member = useSelector(state => memberSelector(state, comment.memberId));\r\n\r\n  return (\r\n    <div className={clsx(classes.root, className)} {...rest}>\r\n      <Avatar alt=\"Person\" src={member.avatar} />\r\n      <Box ml={2} flexGrow={1}>\r\n        <Typography variant=\"h5\" color=\"textPrimary\" gutterBottom>\r\n          {member.name}\r\n        </Typography>\r\n        <Paper className={classes.messageContainer} variant=\"outlined\">\r\n          <Typography variant=\"body2\" color=\"textPrimary\">\r\n            {comment.message}\r\n          </Typography>\r\n        </Paper>\r\n        <Typography variant=\"caption\" color=\"textSecondary\">\r\n          {moment(comment.createdAt).format('MMM DD, YYYY [at] hh:mm a')}\r\n        </Typography>\r\n      </Box>\r\n    </div>\r\n  );\r\n};\r\n\r\nComment.propTypes = {\r\n  // @ts-ignore\r\n  comment: PropTypes.object.isRequired,\r\n  className: PropTypes.string\r\n};\r\n\r\nexport default Comment;\r\n","import { Avatar, makeStyles, TextField } from '@material-ui/core';\r\nimport clsx from 'clsx';\r\nimport { useSnackbar } from 'notistack';\r\nimport PropTypes from 'prop-types';\r\nimport React, { ChangeEvent, FC, KeyboardEvent, useState } from 'react';\r\nimport useAuth from 'src/hooks/useAuth';\r\nimport { addComment } from 'src/slices/kanban';\r\nimport { useDispatch } from 'src/store';\r\nimport { Theme } from 'src/theme';\r\n\r\ninterface CommentAddProps {\r\n  className?: string;\r\n  cardId: string;\r\n}\r\n\r\nconst useStyles = makeStyles((theme: Theme) => ({\r\n  root: {\r\n    display: 'flex',\r\n    alignItems: 'center'\r\n  },\r\n  field: {\r\n    marginLeft: theme.spacing(2)\r\n  }\r\n}));\r\n\r\nconst CommentAdd: FC<CommentAddProps> = ({ cardId, className, ...rest }) => {\r\n  const classes = useStyles();\r\n  const dispatch = useDispatch();\r\n  const { user } = useAuth();\r\n  const { enqueueSnackbar } = useSnackbar();\r\n  const [message, setMessage] = useState<string>('');\r\n\r\n  const handleChange = (event: ChangeEvent<HTMLInputElement>): void => {\r\n    event.persist();\r\n    setMessage(event.target.value);\r\n  };\r\n\r\n  const handleKeyUp = async (\r\n    event: KeyboardEvent<HTMLInputElement>\r\n  ): Promise<void> => {\r\n    try {\r\n      event.persist();\r\n\r\n      if (event.keyCode === 13 && message) {\r\n        await dispatch(addComment(cardId, message));\r\n        setMessage('');\r\n        enqueueSnackbar('Comment added', {\r\n          variant: 'success'\r\n        });\r\n      }\r\n    } catch (err) {\r\n      console.error(err);\r\n      enqueueSnackbar('Something went wrong', {\r\n        variant: 'error'\r\n      });\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div className={clsx(classes.root, className)} {...rest}>\r\n      <Avatar alt=\"Person\" src={user.avatar} />\r\n      <TextField\r\n        fullWidth\r\n        className={classes.field}\r\n        value={message}\r\n        onChange={handleChange}\r\n        onKeyUp={handleKeyUp}\r\n        placeholder=\"Write a comment...\"\r\n        variant=\"outlined\"\r\n      />\r\n    </div>\r\n  );\r\n};\r\n\r\nCommentAdd.propTypes = {\r\n  cardId: PropTypes.string.isRequired,\r\n  className: PropTypes.string\r\n};\r\n\r\nexport default CommentAdd;\r\n","import { Box, makeStyles, TextField, Typography } from '@material-ui/core';\r\nimport clsx from 'clsx';\r\nimport _ from 'lodash';\r\nimport { useSnackbar } from 'notistack';\r\nimport PropTypes from 'prop-types';\r\nimport React, { FC } from 'react';\r\nimport { updateCard } from 'src/slices/kanban';\r\nimport { useDispatch } from 'src/store';\r\nimport { Card, List } from 'src/types/kanban';\r\n\r\ninterface DetailsProps {\r\n  className?: string;\r\n  card: Card;\r\n  list: List;\r\n}\r\n\r\nconst useStyles = makeStyles(() => ({\r\n  root: {}\r\n}));\r\n\r\nconst Details: FC<DetailsProps> = ({ card, className, list, ...rest }) => {\r\n  const classes = useStyles();\r\n  const dispatch = useDispatch();\r\n  const { enqueueSnackbar } = useSnackbar();\r\n\r\n  const handleUpdate = _.debounce(async update => {\r\n    try {\r\n      await dispatch(updateCard(card.id, update));\r\n      enqueueSnackbar('Card updated', {\r\n        variant: 'success'\r\n      });\r\n    } catch (err) {\r\n      console.error(err);\r\n      enqueueSnackbar('Something went wrong', {\r\n        variant: 'error'\r\n      });\r\n    }\r\n  }, 1000);\r\n\r\n  return (\r\n    <div className={clsx(classes.root, className)} {...rest}>\r\n      <Box mt={3}>\r\n        <TextField\r\n          variant=\"outlined\"\r\n          fullWidth\r\n          defaultValue={card.name}\r\n          onChange={event => handleUpdate({ name: event.target.value })}\r\n          label=\"Card Title\"\r\n        />\r\n      </Box>\r\n      <Box mt={3}>\r\n        <Typography variant=\"h4\" color=\"textPrimary\">\r\n          Description\r\n        </Typography>\r\n        <Box mt={2}>\r\n          <TextField\r\n            multiline\r\n            rows={6}\r\n            fullWidth\r\n            variant=\"outlined\"\r\n            onChange={event =>\r\n              handleUpdate({ description: event.target.value })\r\n            }\r\n            placeholder=\"Leave a message\"\r\n            defaultValue={card.description}\r\n          />\r\n        </Box>\r\n      </Box>\r\n    </div>\r\n  );\r\n};\r\n\r\nDetails.propTypes = {\r\n  // @ts-ignore\r\n  card: PropTypes.object.isRequired,\r\n  className: PropTypes.string,\r\n  // @ts-ignore\r\n  list: PropTypes.object.isRequired\r\n};\r\n\r\nexport default Details;\r\n","import {\r\n  Box,\r\n  Dialog,\r\n  Divider,\r\n  Grid,\r\n  IconButton,\r\n  makeStyles,\r\n  SvgIcon,\r\n  Typography\r\n} from '@material-ui/core';\r\nimport { useSnackbar } from 'notistack';\r\nimport PropTypes from 'prop-types';\r\nimport React, { FC } from 'react';\r\nimport {\r\n  Archive as ArchiveIcon,\r\n  ArrowRight as ArrowRightIcon,\r\n  CheckSquare as CheckIcon,\r\n  Copy as CopyIcon,\r\n  Eye as EyeIcon,\r\n  EyeOff as EyeOffIcon,\r\n  File as FileIcon,\r\n  Layout as LayoutIcon,\r\n  Users as UsersIcon,\r\n  XCircle as CloseIcon\r\n} from 'react-feather';\r\nimport { addChecklist, deleteCard, updateCard } from 'src/slices/kanban';\r\nimport { useDispatch } from 'src/store';\r\nimport { Theme } from 'src/theme';\r\nimport { Card, List } from 'src/types/kanban';\r\nimport ActionButton from './ActionButton';\r\nimport Checklist from './Checklist';\r\nimport Comment from './Comment';\r\nimport CommentAdd from './CommentAdd';\r\nimport Details from './Details';\r\n\r\ninterface CardEditModalProps {\r\n  className?: string;\r\n  card: Card;\r\n  list: List;\r\n  onClose?: () => void;\r\n  open: boolean;\r\n}\r\n\r\nconst useStyles = makeStyles((theme: Theme) => ({\r\n  root: {\r\n    padding: theme.spacing(3)\r\n  },\r\n  listName: {\r\n    fontWeight: theme.typography.fontWeightMedium\r\n  },\r\n  checklist: {\r\n    '& + &': {\r\n      marginTop: theme.spacing(3)\r\n    }\r\n  }\r\n}));\r\n\r\nconst CardEditModal: FC<CardEditModalProps> = ({\r\n  card,\r\n  className,\r\n  list,\r\n  onClose,\r\n  open,\r\n  ...rest\r\n}) => {\r\n  const classes = useStyles();\r\n  const dispatch = useDispatch();\r\n  const { enqueueSnackbar } = useSnackbar();\r\n\r\n  const handleSubscribe = async (): Promise<void> => {\r\n    try {\r\n      await dispatch(updateCard(card.id, { isSubscribed: true }));\r\n      enqueueSnackbar('Unsubscribed', {\r\n        variant: 'success'\r\n      });\r\n    } catch (err) {\r\n      console.error(err);\r\n      enqueueSnackbar('Something went wrong', {\r\n        variant: 'error'\r\n      });\r\n    }\r\n  };\r\n\r\n  const handleUnsubscribe = async (): Promise<void> => {\r\n    try {\r\n      await dispatch(updateCard(card.id, { isSubscribed: false }));\r\n      enqueueSnackbar('Subscribed', {\r\n        variant: 'success'\r\n      });\r\n    } catch (err) {\r\n      console.error(err);\r\n      enqueueSnackbar('Something went wrong', {\r\n        variant: 'error'\r\n      });\r\n    }\r\n  };\r\n\r\n  const handleDelete = async (): Promise<void> => {\r\n    try {\r\n      await dispatch(deleteCard(card.id));\r\n      enqueueSnackbar('Card archived', {\r\n        variant: 'success'\r\n      });\r\n    } catch (err) {\r\n      console.error(err);\r\n      enqueueSnackbar('Something went wrong', {\r\n        variant: 'error'\r\n      });\r\n    }\r\n  };\r\n\r\n  const handleAddChecklist = async (): Promise<void> => {\r\n    try {\r\n      await dispatch(addChecklist(card.id, 'Untitled Checklist'));\r\n      enqueueSnackbar('Checklist added', {\r\n        variant: 'success'\r\n      });\r\n    } catch (err) {\r\n      console.error(err);\r\n      enqueueSnackbar('Something went wrong', {\r\n        variant: 'error'\r\n      });\r\n    }\r\n  };\r\n\r\n  return (\r\n    <Dialog onClose={onClose} open={open} maxWidth=\"md\" fullWidth {...rest}>\r\n      <div className={classes.root}>\r\n        <Box display=\"flex\" justifyContent=\"space-between\">\r\n          <Typography variant=\"body2\" color=\"textSecondary\">\r\n            in list <span className={classes.listName}>{list.name}</span>\r\n          </Typography>\r\n          <IconButton onClick={onClose}>\r\n            <SvgIcon>\r\n              <CloseIcon />\r\n            </SvgIcon>\r\n          </IconButton>\r\n        </Box>\r\n        <Grid container spacing={5}>\r\n          <Grid item xs={12} sm={8}>\r\n            <Details card={card} list={list} />\r\n            {card.checklists.length > 0 && (\r\n              <Box mt={5}>\r\n                {card.checklists.map(checklist => (\r\n                  <Checklist\r\n                    key={checklist.id}\r\n                    card={card}\r\n                    checklist={checklist}\r\n                    className={classes.checklist}\r\n                  />\r\n                ))}\r\n              </Box>\r\n            )}\r\n            <Box mt={3}>\r\n              <Typography variant=\"h4\" color=\"textPrimary\">\r\n                Activity\r\n              </Typography>\r\n              <Box mt={2}>\r\n                <CommentAdd cardId={card.id} />\r\n                {card.comments.length > 0 && (\r\n                  <Box mt={3}>\r\n                    {card.comments.map(comment => (\r\n                      <Comment key={comment.id} comment={comment} />\r\n                    ))}\r\n                  </Box>\r\n                )}\r\n              </Box>\r\n            </Box>\r\n          </Grid>\r\n          <Grid item xs={12} sm={4}>\r\n            <Typography variant=\"overline\" color=\"textSecondary\">\r\n              Add to card\r\n            </Typography>\r\n            <ActionButton icon={<CheckIcon />} onClick={handleAddChecklist}>\r\n              Checklist\r\n            </ActionButton>\r\n            <ActionButton icon={<UsersIcon />} disabled>\r\n              Members\r\n            </ActionButton>\r\n            <ActionButton icon={<UsersIcon />} disabled>\r\n              Labels\r\n            </ActionButton>\r\n            <ActionButton icon={<FileIcon />} disabled>\r\n              Attachments\r\n            </ActionButton>\r\n            <Box mt={3}>\r\n              <Typography variant=\"overline\" color=\"textSecondary\">\r\n                Actions\r\n              </Typography>\r\n              <ActionButton icon={<ArrowRightIcon />} disabled>\r\n                Move\r\n              </ActionButton>\r\n              <ActionButton icon={<CopyIcon />} disabled>\r\n                Copy\r\n              </ActionButton>\r\n              <ActionButton icon={<LayoutIcon />} disabled>\r\n                Make Template\r\n              </ActionButton>\r\n              {card.isSubscribed ? (\r\n                <ActionButton icon={<EyeOffIcon />} onClick={handleUnsubscribe}>\r\n                  Unwatch\r\n                </ActionButton>\r\n              ) : (\r\n                <ActionButton icon={<EyeIcon />} onClick={handleSubscribe}>\r\n                  Watch\r\n                </ActionButton>\r\n              )}\r\n              <Divider />\r\n              <ActionButton icon={<ArchiveIcon />} onClick={handleDelete}>\r\n                Archive\r\n              </ActionButton>\r\n            </Box>\r\n          </Grid>\r\n        </Grid>\r\n      </div>\r\n    </Dialog>\r\n  );\r\n};\r\n\r\nCardEditModal.propTypes = {\r\n  // @ts-ignore\r\n  card: PropTypes.object.isRequired,\r\n  className: PropTypes.string,\r\n  // @ts-ignore\r\n  list: PropTypes.object.isRequired,\r\n  onClose: PropTypes.func,\r\n  open: PropTypes.bool.isRequired\r\n};\r\n\r\nCardEditModal.defaultProps = {\r\n  open: false,\r\n  onClose: () => {}\r\n};\r\n\r\nexport default CardEditModal;\r\n","import {\r\n  Avatar,\r\n  Box,\r\n  Card as MuiCard,\r\n  CardContent,\r\n  CardMedia,\r\n  makeStyles,\r\n  SvgIcon,\r\n  Typography\r\n} from '@material-ui/core';\r\nimport { AvatarGroup } from '@material-ui/lab';\r\nimport clsx from 'clsx';\r\nimport PropTypes from 'prop-types';\r\nimport React, { FC, forwardRef, useState } from 'react';\r\nimport {\r\n  CheckSquare as CheckIcon,\r\n  Eye as EyeIcon,\r\n  File as FileIcon,\r\n  MessageCircle as MessageIcon\r\n} from 'react-feather';\r\nimport { RootState, useSelector } from 'src/store';\r\nimport { Theme } from 'src/theme';\r\nimport { Card as CardType, List, Member } from 'src/types/kanban';\r\nimport CardEditModal from './CardEditModal';\r\n\r\ninterface CardProps {\r\n  className?: string;\r\n  cardId: string;\r\n  dragging: boolean;\r\n  index?: number;\r\n  list: List;\r\n  style?: {};\r\n}\r\n\r\ninterface PopulatedCard extends CardType {\r\n  members: Member[];\r\n}\r\n\r\nconst cardSelector = (state: RootState, cardId: string): PopulatedCard => {\r\n  const { cards, members } = state.kanban;\r\n  const card = cards.byId[cardId];\r\n\r\n  return {\r\n    ...card,\r\n    members: card.memberIds.map((memberId: string) => members.byId[memberId])\r\n  };\r\n};\r\n\r\nconst useStyles = makeStyles((theme: Theme) => ({\r\n  root: {\r\n    outline: 'none',\r\n    paddingTop: theme.spacing(1),\r\n    paddingBottom: theme.spacing(1)\r\n  },\r\n  card: {\r\n    '&:hover': {\r\n      backgroundColor: theme.palette.background.dark\r\n    }\r\n  },\r\n  dragging: {\r\n    backgroundColor: theme.palette.background.dark\r\n  },\r\n  cover: {\r\n    height: 200\r\n  },\r\n  badge: {\r\n    '& + &': {\r\n      marginLeft: theme.spacing(2)\r\n    }\r\n  }\r\n}));\r\n\r\nconst Card: FC<CardProps> = forwardRef(\r\n  ({ cardId, className, dragging, index, list, style, ...rest }, ref) => {\r\n    const classes = useStyles();\r\n    const card = useSelector(state => cardSelector(state, cardId));\r\n    const [isOpened, setOpened] = useState<boolean>(false);\r\n\r\n    const handleOpen = (): void => {\r\n      setOpened(true);\r\n    };\r\n\r\n    const handleClose = (): void => {\r\n      setOpened(false);\r\n    };\r\n\r\n    return (\r\n      <div\r\n        className={clsx(classes.root, className)}\r\n        index={index}\r\n        // @ts-ignore\r\n        ref={ref}\r\n        style={style}\r\n        {...rest}\r\n      >\r\n        <MuiCard\r\n          className={clsx(classes.card, { [classes.dragging]: dragging })}\r\n          raised={dragging}\r\n          variant={dragging ? 'elevation' : 'outlined'}\r\n          onClick={handleOpen}\r\n        >\r\n          {card.cover && (\r\n            <CardMedia className={classes.cover} image={card.cover} />\r\n          )}\r\n          <CardContent>\r\n            <Typography variant=\"h5\" color=\"textPrimary\">\r\n              {card.name}\r\n            </Typography>\r\n            <Box mt={2} display=\"flex\" alignItems=\"center\">\r\n              {card.isSubscribed && (\r\n                <SvgIcon\r\n                  className={classes.badge}\r\n                  color=\"action\"\r\n                  fontSize=\"small\"\r\n                >\r\n                  <EyeIcon />\r\n                </SvgIcon>\r\n              )}\r\n              {card.attachments.length > 0 && (\r\n                <SvgIcon\r\n                  className={classes.badge}\r\n                  color=\"action\"\r\n                  fontSize=\"small\"\r\n                >\r\n                  <FileIcon />\r\n                </SvgIcon>\r\n              )}\r\n              {card.checklists.length > 0 && (\r\n                <SvgIcon\r\n                  className={classes.badge}\r\n                  color=\"action\"\r\n                  fontSize=\"small\"\r\n                >\r\n                  <CheckIcon />\r\n                </SvgIcon>\r\n              )}\r\n              {card.comments.length > 0 && (\r\n                <SvgIcon\r\n                  className={classes.badge}\r\n                  color=\"action\"\r\n                  fontSize=\"small\"\r\n                >\r\n                  <MessageIcon />\r\n                </SvgIcon>\r\n              )}\r\n              <Box flexGrow={1} />\r\n              {card.members.length > 0 && (\r\n                <AvatarGroup max={5}>\r\n                  {card.members.map(member => (\r\n                    <Avatar key={member.id} src={member.avatar} />\r\n                  ))}\r\n                </AvatarGroup>\r\n              )}\r\n            </Box>\r\n          </CardContent>\r\n        </MuiCard>\r\n        <CardEditModal\r\n          open={isOpened}\r\n          onClose={handleClose}\r\n          card={card}\r\n          list={list}\r\n        />\r\n      </div>\r\n    );\r\n  }\r\n);\r\n\r\nCard.propTypes = {\r\n  cardId: PropTypes.string.isRequired,\r\n  className: PropTypes.string,\r\n  dragging: PropTypes.bool.isRequired,\r\n  index: PropTypes.number,\r\n  // @ts-ignore\r\n  list: PropTypes.object.isRequired,\r\n  style: PropTypes.object\r\n};\r\n\r\nCard.defaultProps = {\r\n  dragging: false,\r\n  style: {}\r\n};\r\n\r\nexport default Card;\r\n","import { Box, Button, makeStyles, TextField } from '@material-ui/core';\r\nimport clsx from 'clsx';\r\nimport { useSnackbar } from 'notistack';\r\nimport PropTypes from 'prop-types';\r\nimport React, { ChangeEvent, FC, useState } from 'react';\r\nimport { createCard } from 'src/slices/kanban';\r\nimport { useDispatch } from 'src/store';\r\n\r\ninterface CardAddProps {\r\n  className?: string;\r\n  listId: string;\r\n}\r\n\r\nconst useStyles = makeStyles(() => ({\r\n  root: {}\r\n}));\r\n\r\nconst CardAdd: FC<CardAddProps> = ({ className, listId, ...rest }) => {\r\n  const classes = useStyles();\r\n  const dispatch = useDispatch();\r\n  const { enqueueSnackbar } = useSnackbar();\r\n  const [isExpanded, setExpanded] = useState<boolean>(false);\r\n  const [name, setName] = useState<string>('');\r\n\r\n  const handleChange = (event: ChangeEvent<HTMLInputElement>): void => {\r\n    event.persist();\r\n    setName(event.target.value);\r\n  };\r\n\r\n  const handleAddInit = (): void => {\r\n    setExpanded(true);\r\n  };\r\n\r\n  const handleAddCancel = (): void => {\r\n    setExpanded(false);\r\n    setName('');\r\n  };\r\n\r\n  const handleAddConfirm = async (): Promise<void> => {\r\n    try {\r\n      await dispatch(createCard(listId, name || 'Untitled Card'));\r\n      setExpanded(false);\r\n      setName('');\r\n      enqueueSnackbar('Card created', {\r\n        variant: 'success'\r\n      });\r\n    } catch (err) {\r\n      console.error(err);\r\n      enqueueSnackbar('Something went wrong', {\r\n        variant: 'error'\r\n      });\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div className={clsx(classes.root, className)} {...rest}>\r\n      {isExpanded ? (\r\n        <>\r\n          <TextField\r\n            fullWidth\r\n            label=\"Card Title\"\r\n            name=\"cardName\"\r\n            onChange={handleChange}\r\n            value={name}\r\n            variant=\"outlined\"\r\n          />\r\n          <Box mt={2} display=\"flex\" justifyContent=\"space-between\">\r\n            <Button onClick={handleAddCancel} variant=\"text\">\r\n              Cancel\r\n            </Button>\r\n            <Button\r\n              onClick={handleAddConfirm}\r\n              variant=\"contained\"\r\n              color=\"secondary\"\r\n            >\r\n              Add\r\n            </Button>\r\n          </Box>\r\n        </>\r\n      ) : (\r\n        <Box display=\"flex\" justifyContent=\"center\">\r\n          <Button onClick={handleAddInit}>Add another card</Button>\r\n        </Box>\r\n      )}\r\n    </div>\r\n  );\r\n};\r\n\r\nCardAdd.propTypes = {\r\n  className: PropTypes.string,\r\n  listId: PropTypes.string.isRequired\r\n};\r\n\r\nexport default CardAdd;\r\n","import {\r\n  Box,\r\n  ClickAwayListener,\r\n  Divider,\r\n  IconButton,\r\n  makeStyles,\r\n  Menu,\r\n  MenuItem,\r\n  Paper,\r\n  SvgIcon,\r\n  TextField,\r\n  Typography\r\n} from '@material-ui/core';\r\nimport clsx from 'clsx';\r\nimport { useSnackbar } from 'notistack';\r\nimport PropTypes from 'prop-types';\r\nimport React, { ChangeEvent, FC, useRef, useState } from 'react';\r\nimport { Draggable, Droppable } from 'react-beautiful-dnd';\r\nimport { MoreVertical as MoreIcon } from 'react-feather';\r\nimport { clearList, deleteList, updateList } from 'src/slices/kanban';\r\nimport { RootState, useDispatch, useSelector } from 'src/store';\r\nimport { Theme } from 'src/theme';\r\nimport { List as ListType } from 'src/types/kanban';\r\nimport Card from './Card';\r\nimport CardAdd from './CardAdd';\r\n\r\ninterface ListProps {\r\n  className?: string;\r\n  listId: string;\r\n}\r\n\r\nconst listSelector = (state: RootState, listId: string): ListType => {\r\n  const { lists } = state.kanban;\r\n\r\n  return lists.byId[listId];\r\n};\r\n\r\nconst useStyles = makeStyles((theme: Theme) => ({\r\n  root: {},\r\n  inner: {\r\n    marginLeft: theme.spacing(1),\r\n    marginRight: theme.spacing(1),\r\n    display: 'flex',\r\n    flexDirection: 'column',\r\n    maxHeight: '100%',\r\n    overflowY: 'hidden',\r\n    overflowX: 'hidden',\r\n    width: 380,\r\n    [theme.breakpoints.down('xs')]: {\r\n      width: 300\r\n    }\r\n  },\r\n  title: {\r\n    cursor: 'pointer'\r\n  },\r\n  droppableArea: {\r\n    minHeight: 80,\r\n    flexGrow: 1,\r\n    overflowY: 'auto',\r\n    paddingTop: theme.spacing(1),\r\n    paddingBottom: theme.spacing(1),\r\n    paddingLeft: theme.spacing(2),\r\n    paddingRight: theme.spacing(2)\r\n  },\r\n  menu: {\r\n    width: 240\r\n  }\r\n}));\r\n\r\nconst List: FC<ListProps> = ({ className, listId, ...rest }) => {\r\n  const classes = useStyles();\r\n  const [isMenuOpen, setMenuOpen] = useState<boolean>(false);\r\n  const list = useSelector(state => listSelector(state, listId));\r\n  const dispatch = useDispatch();\r\n  const moreRef = useRef<HTMLButtonElement | null>(null);\r\n  const { enqueueSnackbar } = useSnackbar();\r\n  const [name, setName] = useState<string>(list.name);\r\n  const [isRenaming, setRenaming] = useState<boolean>(false);\r\n\r\n  const handleMenuOpen = (): void => {\r\n    setMenuOpen(true);\r\n  };\r\n\r\n  const handleMenuClose = (): void => {\r\n    setMenuOpen(false);\r\n  };\r\n\r\n  const handleChange = (event: ChangeEvent<HTMLInputElement>): void => {\r\n    event.persist();\r\n    setName(event.target.value);\r\n  };\r\n\r\n  const handleRenameInit = (): void => {\r\n    setRenaming(true);\r\n    setMenuOpen(false);\r\n  };\r\n\r\n  const handleRename = async (): Promise<void> => {\r\n    try {\r\n      if (!name) {\r\n        setName(list.name);\r\n        setRenaming(false);\r\n        return;\r\n      }\r\n\r\n      const update = { name };\r\n\r\n      setRenaming(false);\r\n      await dispatch(updateList(list.id, update));\r\n      enqueueSnackbar('List updated', {\r\n        variant: 'success'\r\n      });\r\n    } catch (err) {\r\n      console.error(err);\r\n      enqueueSnackbar('Something went wrong', {\r\n        variant: 'error'\r\n      });\r\n    }\r\n  };\r\n\r\n  const handleDelete = async (): Promise<void> => {\r\n    try {\r\n      setMenuOpen(false);\r\n      await dispatch(deleteList(list.id));\r\n      enqueueSnackbar('List deleted', {\r\n        variant: 'success'\r\n      });\r\n    } catch (err) {\r\n      console.error(err);\r\n      enqueueSnackbar('Something went wrong', {\r\n        variant: 'error'\r\n      });\r\n    }\r\n  };\r\n\r\n  const handleClear = async (): Promise<void> => {\r\n    try {\r\n      setMenuOpen(false);\r\n      await dispatch(clearList(list.id));\r\n      enqueueSnackbar('List cleared', {\r\n        variant: 'success'\r\n      });\r\n    } catch (err) {\r\n      console.error(err);\r\n      enqueueSnackbar('Something went wrong', {\r\n        variant: 'error'\r\n      });\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div className={clsx(classes.root, className)} {...rest}>\r\n      <Paper className={classes.inner}>\r\n        <Box py={1} px={2} display=\"flex\" alignItems=\"center\">\r\n          {isRenaming ? (\r\n            <ClickAwayListener onClickAway={handleRename}>\r\n              <TextField\r\n                value={name}\r\n                onBlur={handleRename}\r\n                onChange={handleChange}\r\n                variant=\"outlined\"\r\n                margin=\"dense\"\r\n              />\r\n            </ClickAwayListener>\r\n          ) : (\r\n            <Typography color=\"inherit\" variant=\"h5\" onClick={handleRenameInit}>\r\n              {list.name}\r\n            </Typography>\r\n          )}\r\n          <Box flexGrow={1} />\r\n          <IconButton\r\n            color=\"inherit\"\r\n            edge=\"end\"\r\n            onClick={handleMenuOpen}\r\n            ref={moreRef}\r\n          >\r\n            <SvgIcon fontSize=\"small\">\r\n              <MoreIcon />\r\n            </SvgIcon>\r\n          </IconButton>\r\n        </Box>\r\n        <Divider />\r\n        <Droppable droppableId={list.id} type=\"card\">\r\n          {provided => (\r\n            <div ref={provided.innerRef} className={classes.droppableArea}>\r\n              {list.cardIds.map((cardId, index) => (\r\n                <Draggable draggableId={cardId} index={index} key={cardId}>\r\n                  {(provided, snapshot) => (\r\n                    <Card\r\n                      cardId={cardId}\r\n                      dragging={snapshot.isDragging}\r\n                      index={index}\r\n                      key={cardId}\r\n                      list={list}\r\n                      // @ts-ignore\r\n                      ref={provided.innerRef}\r\n                      style={{ ...provided.draggableProps.style }}\r\n                      {...provided.draggableProps}\r\n                      {...provided.dragHandleProps}\r\n                    />\r\n                  )}\r\n                </Draggable>\r\n              ))}\r\n              {provided.placeholder}\r\n            </div>\r\n          )}\r\n        </Droppable>\r\n        <Divider />\r\n        <Box p={2}>\r\n          <CardAdd listId={list.id} />\r\n        </Box>\r\n        <Menu\r\n          keepMounted\r\n          anchorEl={moreRef.current}\r\n          open={isMenuOpen}\r\n          onClose={handleMenuClose}\r\n          anchorOrigin={{\r\n            vertical: 'bottom',\r\n            horizontal: 'center'\r\n          }}\r\n          PaperProps={{ className: classes.menu }}\r\n          getContentAnchorEl={null}\r\n        >\r\n          <MenuItem onClick={handleRenameInit}>Rename</MenuItem>\r\n          <MenuItem onClick={handleClear}>Clear</MenuItem>\r\n          <MenuItem onClick={handleDelete}>Delete</MenuItem>\r\n        </Menu>\r\n      </Paper>\r\n    </div>\r\n  );\r\n};\r\n\r\nList.propTypes = {\r\n  className: PropTypes.string,\r\n  listId: PropTypes.string.isRequired\r\n};\r\n\r\nexport default List;\r\n","import { Box, Button, Card, makeStyles, TextField } from '@material-ui/core';\r\nimport clsx from 'clsx';\r\nimport { useSnackbar } from 'notistack';\r\nimport PropTypes from 'prop-types';\r\nimport React, { ChangeEvent, FC, useState } from 'react';\r\nimport { createList } from 'src/slices/kanban';\r\nimport { useDispatch } from 'src/store';\r\nimport { Theme } from 'src/theme';\r\n\r\ninterface ListAddProps {\r\n  className?: string;\r\n}\r\n\r\nconst useStyles = makeStyles((theme: Theme) => ({\r\n  root: {},\r\n  inner: {\r\n    marginLeft: theme.spacing(1),\r\n    marginRight: theme.spacing(1),\r\n    width: 380,\r\n    [theme.breakpoints.down('xs')]: {\r\n      width: 300\r\n    }\r\n  }\r\n}));\r\n\r\nconst ListAdd: FC<ListAddProps> = ({ className, ...rest }) => {\r\n  const classes = useStyles();\r\n  const dispatch = useDispatch();\r\n  const { enqueueSnackbar } = useSnackbar();\r\n  const [isExpanded, setExpanded] = useState<boolean>(false);\r\n  const [name, setName] = useState<string>('');\r\n\r\n  const handleChange = (event: ChangeEvent<HTMLInputElement>): void => {\r\n    event.persist();\r\n    setName(event.target.value);\r\n  };\r\n\r\n  const handleAddInit = (): void => {\r\n    setExpanded(true);\r\n  };\r\n\r\n  const handleAddCancel = (): void => {\r\n    setExpanded(false);\r\n    setName('');\r\n  };\r\n\r\n  const handleAddConfirm = async (): Promise<void> => {\r\n    try {\r\n      await dispatch(createList(name || 'Untitled list'));\r\n      setExpanded(false);\r\n      setName('');\r\n      enqueueSnackbar('List created', {\r\n        variant: 'success'\r\n      });\r\n    } catch (err) {\r\n      console.error(err);\r\n      enqueueSnackbar('Something went wrong', {\r\n        variant: 'error'\r\n      });\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div className={clsx(classes.root, className)} {...rest}>\r\n      <Card className={classes.inner}>\r\n        <Box p={2}>\r\n          {isExpanded ? (\r\n            <>\r\n              <TextField\r\n                fullWidth\r\n                label=\"List Title\"\r\n                name=\"listName\"\r\n                onChange={handleChange}\r\n                value={name}\r\n                variant=\"outlined\"\r\n              />\r\n              <Box mt={2} display=\"flex\" justifyContent=\"space-between\">\r\n                <Button onClick={handleAddCancel} variant=\"text\">\r\n                  Cancel\r\n                </Button>\r\n                <Button\r\n                  onClick={handleAddConfirm}\r\n                  variant=\"contained\"\r\n                  color=\"secondary\"\r\n                >\r\n                  Add\r\n                </Button>\r\n              </Box>\r\n            </>\r\n          ) : (\r\n            <Box display=\"flex\" justifyContent=\"center\">\r\n              <Button onClick={handleAddInit}>Add another list</Button>\r\n            </Box>\r\n          )}\r\n        </Box>\r\n      </Card>\r\n    </div>\r\n  );\r\n};\r\n\r\nListAdd.propTypes = {\r\n  className: PropTypes.string\r\n};\r\n\r\nexport default ListAdd;\r\n","import { Box, makeStyles } from '@material-ui/core';\r\nimport { useSnackbar } from 'notistack';\r\nimport React, { FC, useEffect } from 'react';\r\nimport { DragDropContext, DropResult } from 'react-beautiful-dnd';\r\nimport Page from 'src/components/Page';\r\nimport { getBoard, moveCard } from 'src/slices/kanban';\r\nimport { useDispatch, useSelector } from 'src/store';\r\nimport { Theme } from 'src/theme';\r\nimport Header from './Header';\r\nimport List from './List';\r\nimport ListAdd from './ListAdd';\r\n\r\nconst useStyles = makeStyles((theme: Theme) => ({\r\n  root: {\r\n    backgroundColor: theme.palette.background.dark,\r\n    height: '100%',\r\n    display: 'flex',\r\n    overflow: 'hidden',\r\n    flexDirection: 'column'\r\n  },\r\n  content: {\r\n    flexGrow: 1,\r\n    flexShrink: 1,\r\n    display: 'flex',\r\n    overflowY: 'hidden',\r\n    overflowX: 'auto'\r\n  },\r\n  inner: {\r\n    display: 'flex',\r\n    paddingBottom: theme.spacing(3),\r\n    paddingTop: theme.spacing(3),\r\n    paddingLeft: theme.spacing(1),\r\n    paddingRight: theme.spacing(1)\r\n  }\r\n}));\r\n\r\nconst KanbanView: FC = () => {\r\n  const classes = useStyles();\r\n  const dispatch = useDispatch();\r\n  const { lists } = useSelector(state => state.kanban);\r\n  const { enqueueSnackbar } = useSnackbar();\r\n\r\n  const handleDragEnd = async ({\r\n    source,\r\n    destination,\r\n    draggableId\r\n  }: DropResult): Promise<void> => {\r\n    try {\r\n      // Dropped outside the list\r\n      if (!destination) {\r\n        return;\r\n      }\r\n\r\n      // Card has not been moved\r\n      if (\r\n        source.droppableId === destination.droppableId &&\r\n        source.index === destination.index\r\n      ) {\r\n        return;\r\n      }\r\n\r\n      if (source.droppableId === destination.droppableId) {\r\n        // Moved to the same list on diferent position\r\n        await dispatch(moveCard(draggableId, destination.index));\r\n      } else {\r\n        // Moved to another list\r\n        await dispatch(\r\n          moveCard(draggableId, destination.index, destination.droppableId)\r\n        );\r\n      }\r\n\r\n      enqueueSnackbar('Card moved', {\r\n        variant: 'success'\r\n      });\r\n    } catch (err) {\r\n      console.error(err);\r\n      enqueueSnackbar('Something went wrong', {\r\n        variant: 'error'\r\n      });\r\n    }\r\n  };\r\n\r\n  useEffect(() => {\r\n    dispatch(getBoard());\r\n  }, [dispatch]);\r\n\r\n  return (\r\n    <Page className={classes.root} title=\"Kanban Board\">\r\n      <Box p={3}>\r\n        <Header />\r\n      </Box>\r\n      <DragDropContext onDragEnd={handleDragEnd}>\r\n        <div className={classes.content}>\r\n          <div className={classes.inner}>\r\n            {lists.allIds.map((listId: string) => (\r\n              <List key={listId} listId={listId} />\r\n            ))}\r\n            <ListAdd />\r\n          </div>\r\n        </div>\r\n      </DragDropContext>\r\n    </Page>\r\n  );\r\n};\r\n\r\nexport default KanbanView;\r\n"],"sourceRoot":""}