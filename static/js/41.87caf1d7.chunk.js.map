{"version":3,"sources":["hooks/useIsMountedRef.ts","components/PostAdd.tsx","components/PostCard/Comment.tsx","components/PostCard/CommentAdd.tsx","components/PostCard/Reactions.tsx","components/PostCard/index.tsx","views/social/FeedView/Header.tsx","views/social/FeedView/index.tsx"],"names":["useIsMountedRef","isMounted","useRef","useEffect","current","useStyles","makeStyles","theme","root","inputContainer","flexGrow","paddingBottom","spacing","paddingLeft","paddingRight","paddingTop","divider","height","width","fileInput","display","PostAdd","className","rest","classes","fileInputRef","useState","value","setValue","user","useAuth","handleAttach","click","clsx","alignItems","variant","disableUnderline","fullWidth","onChange","event","persist","target","placeholder","name","title","color","length","edge","onClick","ref","type","marginBottom","bubble","borderRadius","shape","Comment","comment","Avatar","alt","component","RouterLink","src","author","avatar","to","Box","p","ml","bgcolor","mb","Link","Typography","moment","createdAt","fromNow","message","marginLeft","CommentAdd","Paper","Input","Tooltip","IconButton","Divider","likedButton","colors","red","Reactions","post","isLiked","setLiked","likes","setLikes","prevLikes","fontSize","date","media","backgroundPosition","PostCard","undefined","selectedImage","setSelectedImage","Card","CardHeader","disableTypography","subheader","px","pb","mt","CardActionArea","CardMedia","image","my","comments","map","key","id","large","onClose","Header","backgroundColor","palette","background","dark","minHeight","SocialFeedView","isMountedRef","posts","setPosts","getPosts","useCallback","a","axios","get","response","data","console","error","Page","Container","maxWidth"],"mappings":"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","file":"static/js/41.87caf1d7.chunk.js","sourcesContent":["import { MutableRefObject, useEffect, useRef } from 'react';\n\nconst useIsMountedRef = (): MutableRefObject<boolean> => {\n  const isMounted = useRef(true);\n\n  useEffect(\n    () => () => {\n      isMounted.current = false;\n    },\n    []\n  );\n\n  return isMounted;\n};\n\nexport default useIsMountedRef;\n","import {\n  Box,\n  Card,\n  CardContent,\n  Divider,\n  IconButton,\n  Input,\n  makeStyles,\n  Paper,\n  Tooltip\n} from '@material-ui/core';\nimport AddPhotoIcon from '@material-ui/icons/AddPhotoAlternate';\nimport AttachFileIcon from '@material-ui/icons/AttachFile';\nimport SendIcon from '@material-ui/icons/Send';\nimport clsx from 'clsx';\nimport PropTypes from 'prop-types';\nimport React, { ChangeEvent, FC, useRef, useState } from 'react';\nimport useAuth from 'src/hooks/useAuth';\nimport { Theme } from 'src/theme';\n\ninterface PostAddProps {\n  className?: string;\n}\n\nconst useStyles = makeStyles((theme: Theme) => ({\n  root: {},\n  inputContainer: {\n    flexGrow: 1,\n    paddingBottom: theme.spacing(0.5),\n    paddingLeft: theme.spacing(2),\n    paddingRight: theme.spacing(2),\n    paddingTop: theme.spacing(0.5)\n  },\n  divider: {\n    height: 24,\n    width: 1\n  },\n  fileInput: {\n    display: 'none'\n  }\n}));\n\nconst PostAdd: FC<PostAddProps> = ({ className, ...rest }) => {\n  const classes = useStyles();\n  const fileInputRef = useRef<HTMLInputElement | null>(null);\n  const [value, setValue] = useState<string>('');\n  const { user } = useAuth();\n\n  const handleChange = (event: ChangeEvent<HTMLInputElement>): void => {\n    event.persist();\n    setValue(event.target.value);\n  };\n\n  const handleAttach = (): void => {\n    if(fileInputRef && fileInputRef.current)\n      fileInputRef.current.click()\n  };\n\n  return (\n    <Card className={clsx(classes.root, className)} {...rest}>\n      <CardContent>\n        <Box display=\"flex\" alignItems=\"center\">\n          <Paper className={classes.inputContainer} variant=\"outlined\">\n            <Input\n              disableUnderline\n              fullWidth\n              onChange={handleChange}\n              placeholder={`What's on your mind, ${user?.name}`}\n            />\n          </Paper>\n          <Tooltip title=\"Send\">\n            <IconButton color={value.length > 0 ? 'primary' : 'default'}>\n              <SendIcon />\n            </IconButton>\n          </Tooltip>\n          <Divider className={classes.divider} />\n          <Tooltip title=\"Attach image\">\n            <IconButton edge=\"end\" onClick={handleAttach}>\n              <AddPhotoIcon />\n            </IconButton>\n          </Tooltip>\n          <Tooltip title=\"Attach file\">\n            <IconButton edge=\"end\" onClick={handleAttach}>\n              <AttachFileIcon />\n            </IconButton>\n          </Tooltip>\n          <input className={classes.fileInput} ref={fileInputRef} type=\"file\" />\n        </Box>\n      </CardContent>\n    </Card>\n  );\n};\n\nPostAdd.propTypes = {\n  className: PropTypes.string\n};\n\nexport default PostAdd;\n","import { Avatar, Box, Link, makeStyles, Typography } from '@material-ui/core';\nimport clsx from 'clsx';\nimport moment from 'moment';\nimport PropTypes from 'prop-types';\nimport React, { FC } from 'react';\nimport { Link as RouterLink } from 'react-router-dom';\nimport { Theme } from 'src/theme';\nimport { PostComment } from 'src/types/social';\n\ninterface CommentProps {\n  className?: string;\n  comment: PostComment;\n}\n\nconst useStyles = makeStyles((theme: Theme) => ({\n  root: {\n    display: 'flex',\n    marginBottom: theme.spacing(2)\n  },\n  bubble: {\n    borderRadius: theme.shape.borderRadius\n  }\n}));\n\nconst Comment: FC<CommentProps> = ({ className, comment, ...rest }) => {\n  const classes = useStyles();\n\n  return (\n    <div className={clsx(classes.root, className)} {...rest}>\n      <Avatar\n        alt=\"Person\"\n        component={RouterLink}\n        src={comment.author.avatar}\n        to=\"#\"\n      />\n      <Box\n        flexGrow={1}\n        p={2}\n        ml={2}\n        bgcolor=\"background.dark\"\n        className={classes.bubble}\n      >\n        <Box display=\"flex\" alignItems=\"center\" mb={1}>\n          <Link color=\"textPrimary\" component={RouterLink} to=\"#\" variant=\"h6\">\n            {comment.author.name}\n          </Link>\n          <Box flexGrow={1} />\n          <Typography color=\"textSecondary\" variant=\"caption\">\n            {moment(comment.createdAt).fromNow()}\n          </Typography>\n        </Box>\n        <Typography variant=\"body1\" color=\"textPrimary\">\n          {comment.message}\n        </Typography>\n      </Box>\n    </div>\n  );\n};\n\nComment.propTypes = {\n  className: PropTypes.string,\n  // @ts-ignore\n  comment: PropTypes.object.isRequired\n};\n\nexport default Comment;\n","import {\n  Avatar,\n  Divider,\n  IconButton,\n  Input,\n  makeStyles,\n  Paper,\n  Tooltip\n} from '@material-ui/core';\nimport AddPhotoIcon from '@material-ui/icons/AddPhotoAlternate';\nimport AttachFileIcon from '@material-ui/icons/AttachFile';\nimport SendIcon from '@material-ui/icons/Send';\nimport clsx from 'clsx';\nimport PropTypes from 'prop-types';\nimport React, { ChangeEvent, FC, useRef, useState } from 'react';\nimport useAuth from 'src/hooks/useAuth';\nimport { Theme } from 'src/theme';\n\ninterface CommentAddProps {\n  className?: string;\n}\n\nconst useStyles = makeStyles((theme: Theme) => ({\n  root: {\n    alignItems: 'center',\n    display: 'flex'\n  },\n  inputContainer: {\n    flexGrow: 1,\n    marginLeft: theme.spacing(2),\n    paddingBottom: theme.spacing(0.5),\n    paddingLeft: theme.spacing(0.5),\n    paddingRight: theme.spacing(0.5),\n    paddingTop: theme.spacing(0.5)\n  },\n  divider: {\n    height: 24,\n    width: 1\n  },\n  fileInput: {\n    display: 'none'\n  }\n}));\n\nconst CommentAdd: FC<CommentAddProps> = ({ className, ...rest }) => {\n  const classes = useStyles();\n  const { user } = useAuth();\n  const fileInputRef = useRef<HTMLInputElement | null>(null);\n  const [value, setValue] = useState<string>('');\n\n  const handleChange = (event: ChangeEvent<HTMLInputElement>): void => {\n    event.persist();\n    setValue(event.target.value);\n  };\n\n  const handleAttach = (): void => {\n    if(fileInputRef && fileInputRef.current)\n      fileInputRef.current.click()\n  };\n\n  return (\n    <div className={clsx(classes.root, className)} {...rest}>\n      <Avatar alt=\"Person\" src={user?.avatar} />\n      <Paper className={classes.inputContainer} variant=\"outlined\">\n        <Input\n          disableUnderline\n          fullWidth\n          onChange={handleChange}\n          placeholder=\"Leave a message\"\n        />\n      </Paper>\n      <Tooltip title=\"Send\">\n        <IconButton color={value.length > 0 ? 'primary' : 'default'}>\n          <SendIcon />\n        </IconButton>\n      </Tooltip>\n      <Divider className={classes.divider} />\n      <Tooltip title=\"Attach image\">\n        <IconButton edge=\"end\" onClick={handleAttach}>\n          <AddPhotoIcon />\n        </IconButton>\n      </Tooltip>\n      <Tooltip title=\"Attach file\">\n        <IconButton edge=\"end\" onClick={handleAttach}>\n          <AttachFileIcon />\n        </IconButton>\n      </Tooltip>\n      <input className={classes.fileInput} ref={fileInputRef} type=\"file\" />\n    </div>\n  );\n};\n\nCommentAdd.propTypes = {\n  className: PropTypes.string\n};\n\nexport default CommentAdd;\n","import {\n  Box,\n  colors,\n  IconButton,\n  makeStyles,\n  Tooltip,\n  Typography\n} from '@material-ui/core';\nimport FavoriteIcon from '@material-ui/icons/Favorite';\nimport FavoriteBorderIcon from '@material-ui/icons/FavoriteBorder';\nimport ShareIcon from '@material-ui/icons/Share';\nimport clsx from 'clsx';\nimport PropTypes from 'prop-types';\nimport React, { FC, useState } from 'react';\nimport { Post } from 'src/types/social';\n\ninterface ReactionsProps {\n  className?: string;\n  post: Post;\n}\n\nconst useStyles = makeStyles(() => ({\n  root: {\n    display: 'flex',\n    alignItems: 'center'\n  },\n  likedButton: {\n    color: colors.red[600]\n  }\n}));\n\nconst Reactions: FC<ReactionsProps> = ({ className, post, ...rest }) => {\n  const classes = useStyles();\n  const [isLiked, setLiked] = useState<boolean>(post.isLiked);\n  const [likes, setLikes] = useState<number>(post.likes);\n\n  const handleLike = (): void => {\n    setLiked(true);\n    setLikes(prevLikes => prevLikes + 1);\n  };\n\n  const handleUnlike = (): void => {\n    setLiked(false);\n    setLikes(prevLikes => prevLikes - 1);\n  };\n\n  return (\n    <div className={clsx(classes.root, className)} {...rest}>\n      {isLiked ? (\n        <Tooltip title=\"Unlike\">\n          <IconButton className={classes.likedButton} onClick={handleUnlike}>\n            <FavoriteIcon fontSize=\"small\" />\n          </IconButton>\n        </Tooltip>\n      ) : (\n        <Tooltip title=\"Like\">\n          <IconButton onClick={handleLike}>\n            <FavoriteBorderIcon fontSize=\"small\" />\n          </IconButton>\n        </Tooltip>\n      )}\n      <Typography color=\"textSecondary\" variant=\"h6\">\n        {likes}\n      </Typography>\n      <Box flexGrow={1} />\n      <IconButton>\n        <ShareIcon fontSize=\"small\" />\n      </IconButton>\n    </div>\n  );\n};\n\nReactions.propTypes = {\n  className: PropTypes.string,\n  // @ts-ignore\n  post: PropTypes.object.isRequired\n};\n\nexport default Reactions;\n","import {\n  Avatar,\n  Box,\n  Card,\n  CardActionArea,\n  CardHeader,\n  CardMedia,\n  Divider,\n  Link,\n  makeStyles,\n  Typography\n} from '@material-ui/core';\nimport AccessTimeIcon from '@material-ui/icons/AccessTime';\nimport clsx from 'clsx';\nimport moment from 'moment';\nimport PropTypes from 'prop-types';\nimport React, { FC, useState } from 'react';\n// @ts-ignore\nimport { Lightbox } from 'react-modal-image';\nimport { Link as RouterLink } from 'react-router-dom';\nimport { Post } from 'src/types/social';\nimport Comment from './Comment';\nimport CommentAdd from './CommentAdd';\nimport Reactions from './Reactions';\n\ninterface PostCardProps {\n  className?: string;\n  post: Post;\n}\n\nconst useStyles = makeStyles(() => ({\n  root: {},\n  date: {\n    marginLeft: 6\n  },\n  media: {\n    height: 500,\n    backgroundPosition: 'top'\n  }\n}));\n\nconst PostCard: FC<PostCardProps> = ({ className, post, ...rest }) => {\n  const classes = useStyles();\n  const [selectedImage, setSelectedImage] = useState<string | undefined>(undefined);\n\n  return (\n    <>\n      <Card className={clsx(classes.root, className)} {...rest}>\n        <CardHeader\n          avatar={\n            <Avatar\n              alt=\"Person\"\n              component={RouterLink}\n              src={post.author.avatar}\n              to=\"#\"\n            />\n          }\n          disableTypography\n          subheader={\n            <Box display=\"flex\" alignItems=\"center\">\n              <AccessTimeIcon fontSize=\"small\" />\n              <Typography\n                variant=\"caption\"\n                color=\"textSecondary\"\n                className={classes.date}\n              >\n                {moment(post.createdAt).fromNow()}\n              </Typography>\n            </Box>\n          }\n          title={\n            <Link\n              color=\"textPrimary\"\n              component={RouterLink}\n              to=\"#\"\n              variant=\"h6\"\n            >\n              {post.author.name}\n            </Link>\n          }\n        />\n        <Box px={3} pb={2}>\n          <Typography variant=\"body1\" color=\"textPrimary\">\n            {post.message}\n          </Typography>\n          {post.media && (\n            <Box mt={2}>\n              <CardActionArea onClick={() => setSelectedImage(post.media)}>\n                <CardMedia className={classes.media} image={post.media} />\n              </CardActionArea>\n            </Box>\n          )}\n          <Box mt={2}>\n            <Reactions post={post} />\n          </Box>\n          <Box my={2}>\n            <Divider />\n          </Box>\n          {post.comments.map(comment => (\n            <Comment comment={comment} key={comment.id} />\n          ))}\n          <Box my={2}>\n            <Divider />\n          </Box>\n          <CommentAdd />\n        </Box>\n      </Card>\n      {selectedImage && (\n        <Lightbox\n          large={selectedImage}\n          onClose={() => setSelectedImage(undefined)}\n        />\n      )}\n    </>\n  );\n};\n\nPostCard.propTypes = {\n  className: PropTypes.string,\n  // @ts-ignore\n  post: PropTypes.object.isRequired\n};\n\nexport default PostCard;\n","import { makeStyles, Typography } from '@material-ui/core';\nimport clsx from 'clsx';\nimport PropTypes from 'prop-types';\nimport React, { FC } from 'react';\n\ninterface HeaderProps {\n  className?: string;\n}\n\nconst useStyles = makeStyles(() => ({\n  root: {}\n}));\n\nconst Header: FC<HeaderProps> = ({ className, ...rest }) => {\n  const classes = useStyles();\n\n  return (\n    <div className={clsx(classes.root, className)} {...rest}>\n      <Typography variant=\"overline\" color=\"textSecondary\">\n        Social Feed\n      </Typography>\n      <Typography variant=\"h3\" color=\"textPrimary\">\n        Here&apos;s what your connections posted\n      </Typography>\n    </div>\n  );\n};\n\nHeader.propTypes = {\n  className: PropTypes.string\n};\n\nexport default Header;\n","import { Box, Container, makeStyles } from '@material-ui/core';\nimport React, { FC, useCallback, useEffect, useState } from 'react';\nimport Page from 'src/components/Page';\nimport PostAdd from 'src/components/PostAdd';\nimport PostCard from 'src/components/PostCard';\nimport useIsMountedRef from 'src/hooks/useIsMountedRef';\nimport { Theme } from 'src/theme';\nimport { Post } from 'src/types/social';\nimport axios from 'src/utils/axios';\nimport Header from './Header';\n\nconst useStyles = makeStyles((theme: Theme) => ({\n  root: {\n    backgroundColor: theme.palette.background.dark,\n    minHeight: '100%',\n    paddingTop: theme.spacing(3),\n    paddingBottom: theme.spacing(3)\n  }\n}));\n\nconst SocialFeedView: FC = () => {\n  const classes = useStyles();\n  const isMountedRef = useIsMountedRef();\n  const [posts, setPosts] = useState<Post[]>([]);\n\n  const getPosts = useCallback(async () => {\n    try {\n      const response = await axios.get<{ posts: Post[] }>('/api/social/feed');\n\n      if (isMountedRef.current) {\n        setPosts(response.data.posts);\n      }\n    } catch (err) {\n      console.error(err);\n    }\n  }, [isMountedRef]);\n\n  useEffect(() => {\n    getPosts();\n  }, [getPosts]);\n\n  return (\n    <Page className={classes.root} title=\"Social Feed\">\n      <Container maxWidth=\"lg\">\n        <Header />\n        <Box mt={3}>\n          <PostAdd />\n        </Box>\n        {posts.map(post => (\n          <Box mt={3} key={post.id}>\n            <PostCard post={post} />\n          </Box>\n        ))}\n      </Container>\n    </Page>\n  );\n};\n\nexport default SocialFeedView;\n"],"sourceRoot":""}