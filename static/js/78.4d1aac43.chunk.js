(this["webpackJsonp@devias-io/material-kit-pro-react"]=this["webpackJsonp@devias-io/material-kit-pro-react"]||[]).push([[78],{2111:function(e,t,a){"use strict";a.r(t);var n=a(7),r=a.n(n),c=a(12),i=a(1031),l=a(1075),o=a(170),s=a(0),u=a.n(s),m=a(1683),d=a(304),b=a(314),p=a(309),f=a(37),v=a(1148),g=a(1056),h=a(1032),E=a(1096),j=a.n(E),O=a(5),k=a(23),x=Object(i.a)((function(){return{root:{}}})),w=function(e){var t=e.className,a=Object(f.a)(e,["className"]),n=x();return u.a.createElement("div",Object.assign({className:Object(O.a)(n.root,t)},a),u.a.createElement(v.a,{separator:u.a.createElement(j.a,{fontSize:"small"}),"aria-label":"breadcrumb"},u.a.createElement(g.a,{variant:"body1",color:"inherit",to:"/app",component:k.a},"Dashboard"),u.a.createElement(h.a,{variant:"body1",color:"textPrimary"},"Kanban")),u.a.createElement(h.a,{variant:"h3",color:"textPrimary"},"Board"))},y=a(35),C=a(47),S=a(91),N=a(222),I=a(1030),z=a(2059),P=a(1070),A=a(107),W=a(1063),L=a(1046),B=a(1067),R=a(1569),G=a(1145),q=a(1340),D=a(1159),M=a(1083),T=a(1698),Y=a(2083),U=a(2079),H=a(2078),K=a(2084),F=a(1328),J=a(1073),V=a(2077),X=a(1822),$=a(1286),Q=a(2080),Z=a(2081),_=a(2082),ee=a(1699),te=a(1057),ae=Object(i.a)((function(e){return{root:{justifyContent:"flex-start",marginTop:e.spacing(1),marginBottom:e.spacing(1)}}})),ne=function(e){var t=e.icon,a=e.children,n=Object(f.a)(e,["icon","children"]),r=ae(),c=t?u.a.createElement(A.a,{fontSize:"small"},t):null;return u.a.createElement(te.a,Object.assign({className:r.root,fullWidth:!0,variant:"contained",size:"small",startIcon:c},n),a)},re=a(1058),ce=a(2076),ie=a(1188),le=a(1366),oe=Object(i.a)((function(e){return{root:{padding:e.spacing(1),display:"flex",alignItems:"flex-start",borderRadius:e.shape.borderRadius,"&:hover":{backgroundColor:e.palette.background.dark,"& $deleteButton":{visibility:"visible"}}},checkbox:{marginLeft:e.spacing(-1),marginRight:e.spacing(1)},name:{flexGrow:1,cursor:"pointer",minHeight:32},deleteButton:{visibility:"hidden"}}})),se=function(e){var t=e.card,a=e.checklist,n=e.checkItem,i=e.className,m=e.editing,d=e.onEditCancel,v=e.onEditInit,g=e.onEditComplete,E=Object(f.a)(e,["card","checklist","checkItem","className","editing","onEditCancel","onEditInit","onEditComplete"]),j=oe(),k=Object(p.b)(),x=Object(o.b)().enqueueSnackbar,w=Object(s.useState)(n.name),y=Object(C.a)(w,2),S=y[0],N=y[1],I=function(){var e=Object(c.a)(r.a.mark((function e(c){var i;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,c.persist(),i=c.target.checked?"complete":"incomplete",e.next=5,k(Object(b.o)(t.id,a.id,n.id,{state:i}));case 5:x("Check item updated",{variant:"success"}),e.next=12;break;case 8:e.prev=8,e.t0=e.catch(0),console.error(e.t0),x("Something went wrong",{variant:"error"});case 12:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(t){return e.apply(this,arguments)}}(),W=function(){var e=Object(c.a)(r.a.mark((function e(){return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,k(Object(b.o)(t.id,a.id,n.id,{name:S}));case 3:g(),x("Check item updated",{variant:"success"}),e.next=11;break;case 7:e.prev=7,e.t0=e.catch(0),console.error(e.t0),x("Something went wrong",{variant:"error"});case 11:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(){return e.apply(this,arguments)}}(),L=function(){var e=Object(c.a)(r.a.mark((function e(){return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,k(Object(b.h)(t.id,a.id,n.id));case 3:x("Check item deleted",{variant:"success"}),e.next=10;break;case 6:e.prev=6,e.t0=e.catch(0),console.error(e.t0),x("Something went wrong",{variant:"error"});case 10:case"end":return e.stop()}}),e,null,[[0,6]])})));return function(){return e.apply(this,arguments)}}();return u.a.createElement("div",Object.assign({className:Object(O.a)(j.root,i)},E),u.a.createElement(ie.a,{checked:"complete"===n.state,onChange:I,className:j.checkbox}),m?u.a.createElement(l.a,{flexGrow:1},u.a.createElement(z.a,{value:S,variant:"outlined",fullWidth:!0,onChange:function(e){e.persist(),N(e.target.value)}}),u.a.createElement(l.a,{mt:1},u.a.createElement(te.a,{size:"small",variant:"contained",color:"secondary",onClick:W},"Save"),u.a.createElement(te.a,{size:"small",onClick:function(){N(n.name),d()}},"Cancel"))):u.a.createElement(l.a,{display:"flex",alignItems:"center",flexGrow:1},u.a.createElement(h.a,{onClick:v,color:"textPrimary",variant:"body1",className:j.name},n.name),u.a.createElement(P.a,{onClick:L,className:j.deleteButton},u.a.createElement(A.a,{fontSize:"small"},u.a.createElement(le.a,null)))))};se.defaultProps={editing:!1,onEditCancel:function(){},onEditComplete:function(){},onEditInit:function(){}};var ue=se,me=Object(i.a)((function(){return{root:{}}})),de=function(e){var t=e.card,a=e.checklist,n=e.className,i=Object(f.a)(e,["card","checklist","className"]),m=me(),d=Object(p.b)(),v=Object(o.b)().enqueueSnackbar,g=Object(s.useState)(""),h=Object(C.a)(g,2),E=h[0],j=h[1],k=Object(s.useState)(!1),x=Object(C.a)(k,2),w=x[0],y=x[1],S=function(){var e=Object(c.a)(r.a.mark((function e(){return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,E){e.next=3;break}return e.abrupt("return");case 3:return e.next=5,d(Object(b.a)(t.id,a.id,E));case 5:y(!1),j(""),v("Check item added",{variant:"success"}),e.next=14;break;case 10:e.prev=10,e.t0=e.catch(0),console.error(e.t0),v("Something went wrong",{variant:"error"});case 14:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(){return e.apply(this,arguments)}}();return u.a.createElement("div",Object.assign({className:Object(O.a)(m.root,n)},i),w?u.a.createElement("div",null,u.a.createElement(z.a,{fullWidth:!0,onChange:function(e){e.persist(),j(e.target.value)},placeholder:"Add an item",value:E,variant:"outlined"}),u.a.createElement(l.a,{mt:1},u.a.createElement(te.a,{variant:"contained",color:"primary",size:"small",onClick:S},"Save"),u.a.createElement(te.a,{size:"small",onClick:function(){y(!1),j("")}},"Cancel"))):u.a.createElement(te.a,{variant:"outlined",size:"small",onClick:function(){y(!0)}},"Add an item"))},be=Object(i.a)((function(e){return{root:{},listIcon:{marginRight:e.spacing(3)}}})),pe=function(e){var t=e.card,a=e.checklist,n=e.className,i=Object(f.a)(e,["card","checklist","className"]),m=be(),d=Object(p.b)(),v=Object(o.b)().enqueueSnackbar,g=Object(s.useState)(a.name),E=Object(C.a)(g,2),j=E[0],k=E[1],x=Object(s.useState)(!1),w=Object(C.a)(x,2),y=w[0],S=w[1],N=Object(s.useState)(null),I=Object(C.a)(N,2),P=I[0],W=I[1],L=function(){var e=Object(c.a)(r.a.mark((function e(){return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,j&&j!==a.name){e.next=5;break}return S(!1),k(a.name),e.abrupt("return");case 5:return S(!1),e.next=8,d(Object(b.p)(t.id,a.id,{name:j}));case 8:v("Checklist updated",{variant:"success"}),e.next=15;break;case 11:e.prev=11,e.t0=e.catch(0),console.error(e.t0),v("Something went wrong",{variant:"error"});case 15:case"end":return e.stop()}}),e,null,[[0,11]])})));return function(){return e.apply(this,arguments)}}(),B=function(){var e=Object(c.a)(r.a.mark((function e(){return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,d(Object(b.i)(t.id,a.id));case 3:v("Checklist deleted",{variant:"success"}),e.next=10;break;case 6:e.prev=6,e.t0=e.catch(0),console.error(e.t0),v("Something went wrong",{variant:"error"});case 10:case"end":return e.stop()}}),e,null,[[0,6]])})));return function(){return e.apply(this,arguments)}}(),R=function(){W(null)},G=function(){W(null)},q=a.checkItems.length,D=a.checkItems.filter((function(e){return"complete"===e.state})).length,M=0===q?100:D/q*100;return u.a.createElement("div",Object.assign({className:Object(O.a)(m.root,n)},i),u.a.createElement(l.a,{display:"flex"},u.a.createElement(A.a,{fontSize:"small",color:"action",className:m.listIcon},u.a.createElement(ce.a,null)),y?u.a.createElement(l.a,{flexGrow:1},u.a.createElement(z.a,{value:j,fullWidth:!0,variant:"outlined",onChange:function(e){e.persist(),k(e.target.value)}}),u.a.createElement(l.a,{mt:1},u.a.createElement(te.a,{color:"primary",size:"small",variant:"contained",onClick:L},"Save"),u.a.createElement(te.a,{size:"small",onClick:function(){S(!1),k(a.name)}},"Cancel"))):u.a.createElement(l.a,{display:"flex",alignItems:"center",flexGrow:1},u.a.createElement(h.a,{variant:"h4",color:"textPrimary",onClick:function(){S(!0)}},a.name),u.a.createElement(l.a,{flexGrow:1}),u.a.createElement(te.a,{size:"small",onClick:B},"Delete"))),u.a.createElement(l.a,{mt:1,display:"flex",alignItems:"center"},u.a.createElement(h.a,{variant:"caption",color:"textSecondary"},Math.round(M),"%"),u.a.createElement(l.a,{ml:2,flexGrow:1},u.a.createElement(re.a,{variant:"determinate",value:M,color:"secondary"}))),u.a.createElement(l.a,{mt:3},a.checkItems.map((function(e){return u.a.createElement(ue,{editing:P===e.id,checkItem:e,card:t,checklist:a,key:e.id,onEditCancel:R,onEditComplete:G,onEditInit:function(){return t=e.id,void W(t);var t}})}))),u.a.createElement(l.a,{mt:1,ml:6},u.a.createElement(de,{card:t,checklist:a})))},fe=a(2),ve=a.n(fe),ge=Object(i.a)((function(e){return{root:{display:"flex",marginBottom:e.spacing(2)},messageContainer:{backgroundColor:e.palette.background.dark,marginBottom:e.spacing(1),padding:e.spacing(2)}}})),he=function(e){var t=e.comment,a=e.className,n=Object(f.a)(e,["comment","className"]),r=ge(),c=Object(p.c)((function(e){return function(e,t){return e.kanban.members.byId[t]}(e,t.memberId)}));return u.a.createElement("div",Object.assign({className:Object(O.a)(r.root,a)},n),u.a.createElement(M.a,{alt:"Person",src:c.avatar}),u.a.createElement(l.a,{ml:2,flexGrow:1},u.a.createElement(h.a,{variant:"h5",color:"textPrimary",gutterBottom:!0},c.name),u.a.createElement(N.a,{className:r.messageContainer,variant:"outlined"},u.a.createElement(h.a,{variant:"body2",color:"textPrimary"},t.message)),u.a.createElement(h.a,{variant:"caption",color:"textSecondary"},ve()(t.createdAt).format("MMM DD, YYYY [at] hh:mm a"))))},Ee=a(92),je=Object(i.a)((function(e){return{root:{display:"flex",alignItems:"center"},field:{marginLeft:e.spacing(2)}}})),Oe=function(e){var t=e.cardId,a=e.className,n=Object(f.a)(e,["cardId","className"]),i=je(),l=Object(p.b)(),m=Object(Ee.a)().user,d=Object(o.b)().enqueueSnackbar,v=Object(s.useState)(""),g=Object(C.a)(v,2),h=g[0],E=g[1],j=function(){var e=Object(c.a)(r.a.mark((function e(a){return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,a.persist(),13!==a.keyCode||!h){e.next=7;break}return e.next=5,l(Object(b.c)(t,h));case 5:E(""),d("Comment added",{variant:"success"});case 7:e.next=13;break;case 9:e.prev=9,e.t0=e.catch(0),console.error(e.t0),d("Something went wrong",{variant:"error"});case 13:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(t){return e.apply(this,arguments)}}();return u.a.createElement("div",Object.assign({className:Object(O.a)(i.root,a)},n),u.a.createElement(M.a,{alt:"Person",src:m.avatar}),u.a.createElement(z.a,{fullWidth:!0,className:i.field,value:h,onChange:function(e){e.persist(),E(e.target.value)},onKeyUp:j,placeholder:"Write a comment...",variant:"outlined"}))},ke=a(8),xe=a.n(ke),we=Object(i.a)((function(){return{root:{}}})),ye=function(e){var t=e.card,a=e.className,n=(e.list,Object(f.a)(e,["card","className","list"])),i=we(),s=Object(p.b)(),m=Object(o.b)().enqueueSnackbar,d=xe.a.debounce(function(){var e=Object(c.a)(r.a.mark((function e(a){return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,s(Object(b.n)(t.id,a));case 3:m("Card updated",{variant:"success"}),e.next=10;break;case 6:e.prev=6,e.t0=e.catch(0),console.error(e.t0),m("Something went wrong",{variant:"error"});case 10:case"end":return e.stop()}}),e,null,[[0,6]])})));return function(t){return e.apply(this,arguments)}}(),1e3);return u.a.createElement("div",Object.assign({className:Object(O.a)(i.root,a)},n),u.a.createElement(l.a,{mt:3},u.a.createElement(z.a,{variant:"outlined",fullWidth:!0,defaultValue:t.name,onChange:function(e){return d({name:e.target.value})},label:"Card Title"})),u.a.createElement(l.a,{mt:3},u.a.createElement(h.a,{variant:"h4",color:"textPrimary"},"Description"),u.a.createElement(l.a,{mt:2},u.a.createElement(z.a,{multiline:!0,rows:6,fullWidth:!0,variant:"outlined",onChange:function(e){return d({description:e.target.value})},placeholder:"Leave a message",defaultValue:t.description}))))},Ce=Object(i.a)((function(e){return{root:{padding:e.spacing(3)},listName:{fontWeight:e.typography.fontWeightMedium},checklist:{"& + &":{marginTop:e.spacing(3)}}}})),Se=function(e){var t=e.card,a=(e.className,e.list),n=e.onClose,i=e.open,s=Object(f.a)(e,["card","className","list","onClose","open"]),m=Ce(),d=Object(p.b)(),v=Object(o.b)().enqueueSnackbar,g=function(){var e=Object(c.a)(r.a.mark((function e(){return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,d(Object(b.n)(t.id,{isSubscribed:!0}));case 3:v("Unsubscribed",{variant:"success"}),e.next=10;break;case 6:e.prev=6,e.t0=e.catch(0),console.error(e.t0),v("Something went wrong",{variant:"error"});case 10:case"end":return e.stop()}}),e,null,[[0,6]])})));return function(){return e.apply(this,arguments)}}(),E=function(){var e=Object(c.a)(r.a.mark((function e(){return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,d(Object(b.n)(t.id,{isSubscribed:!1}));case 3:v("Subscribed",{variant:"success"}),e.next=10;break;case 6:e.prev=6,e.t0=e.catch(0),console.error(e.t0),v("Something went wrong",{variant:"error"});case 10:case"end":return e.stop()}}),e,null,[[0,6]])})));return function(){return e.apply(this,arguments)}}(),j=function(){var e=Object(c.a)(r.a.mark((function e(){return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,d(Object(b.g)(t.id));case 3:v("Card archived",{variant:"success"}),e.next=10;break;case 6:e.prev=6,e.t0=e.catch(0),console.error(e.t0),v("Something went wrong",{variant:"error"});case 10:case"end":return e.stop()}}),e,null,[[0,6]])})));return function(){return e.apply(this,arguments)}}(),O=function(){var e=Object(c.a)(r.a.mark((function e(){return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,d(Object(b.b)(t.id,"Untitled Checklist"));case 3:v("Checklist added",{variant:"success"}),e.next=10;break;case 6:e.prev=6,e.t0=e.catch(0),console.error(e.t0),v("Something went wrong",{variant:"error"});case 10:case"end":return e.stop()}}),e,null,[[0,6]])})));return function(){return e.apply(this,arguments)}}();return u.a.createElement(F.a,Object.assign({onClose:n,open:i,maxWidth:"md",fullWidth:!0},s),u.a.createElement("div",{className:m.root},u.a.createElement(l.a,{display:"flex",justifyContent:"space-between"},u.a.createElement(h.a,{variant:"body2",color:"textSecondary"},"in list ",u.a.createElement("span",{className:m.listName},a.name)),u.a.createElement(P.a,{onClick:n},u.a.createElement(A.a,null,u.a.createElement(V.a,null)))),u.a.createElement(J.a,{container:!0,spacing:5},u.a.createElement(J.a,{item:!0,xs:12,sm:8},u.a.createElement(ye,{card:t,list:a}),t.checklists.length>0&&u.a.createElement(l.a,{mt:5},t.checklists.map((function(e){return u.a.createElement(pe,{key:e.id,card:t,checklist:e,className:m.checklist})}))),u.a.createElement(l.a,{mt:3},u.a.createElement(h.a,{variant:"h4",color:"textPrimary"},"Activity"),u.a.createElement(l.a,{mt:2},u.a.createElement(Oe,{cardId:t.id}),t.comments.length>0&&u.a.createElement(l.a,{mt:3},t.comments.map((function(e){return u.a.createElement(he,{key:e.id,comment:e})})))))),u.a.createElement(J.a,{item:!0,xs:12,sm:4},u.a.createElement(h.a,{variant:"overline",color:"textSecondary"},"Add to card"),u.a.createElement(ne,{icon:u.a.createElement(H.a,null),onClick:O},"Checklist"),u.a.createElement(ne,{icon:u.a.createElement(X.a,null),disabled:!0},"Members"),u.a.createElement(ne,{icon:u.a.createElement(X.a,null),disabled:!0},"Labels"),u.a.createElement(ne,{icon:u.a.createElement(U.a,null),disabled:!0},"Attachments"),u.a.createElement(l.a,{mt:3},u.a.createElement(h.a,{variant:"overline",color:"textSecondary"},"Actions"),u.a.createElement(ne,{icon:u.a.createElement($.a,null),disabled:!0},"Move"),u.a.createElement(ne,{icon:u.a.createElement(Q.a,null),disabled:!0},"Copy"),u.a.createElement(ne,{icon:u.a.createElement(Z.a,null),disabled:!0},"Make Template"),t.isSubscribed?u.a.createElement(ne,{icon:u.a.createElement(_.a,null),onClick:E},"Unwatch"):u.a.createElement(ne,{icon:u.a.createElement(Y.a,null),onClick:g},"Watch"),u.a.createElement(W.a,null),u.a.createElement(ne,{icon:u.a.createElement(ee.a,null),onClick:j},"Archive"))))))};Se.defaultProps={open:!1,onClose:function(){}};var Ne=Se,Ie=Object(i.a)((function(e){return{root:{outline:"none",paddingTop:e.spacing(1),paddingBottom:e.spacing(1)},card:{"&:hover":{backgroundColor:e.palette.background.dark}},dragging:{backgroundColor:e.palette.background.dark},cover:{height:200},badge:{"& + &":{marginLeft:e.spacing(2)}}}})),ze=Object(s.forwardRef)((function(e,t){var a=e.cardId,n=e.className,r=e.dragging,c=e.index,i=e.list,o=e.style,m=Object(f.a)(e,["cardId","className","dragging","index","list","style"]),d=Ie(),b=Object(p.c)((function(e){return function(e,t){var a=e.kanban,n=a.cards,r=a.members,c=n.byId[t];return Object(y.a)(Object(y.a)({},c),{},{members:c.memberIds.map((function(e){return r.byId[e]}))})}(e,a)})),v=Object(s.useState)(!1),g=Object(C.a)(v,2),E=g[0],j=g[1];return u.a.createElement("div",Object.assign({className:Object(O.a)(d.root,n),index:c,ref:t,style:o},m),u.a.createElement(G.a,{className:Object(O.a)(d.card,Object(S.a)({},d.dragging,r)),raised:r,variant:r?"elevation":"outlined",onClick:function(){j(!0)}},b.cover&&u.a.createElement(q.a,{className:d.cover,image:b.cover}),u.a.createElement(D.a,null,u.a.createElement(h.a,{variant:"h5",color:"textPrimary"},b.name),u.a.createElement(l.a,{mt:2,display:"flex",alignItems:"center"},b.isSubscribed&&u.a.createElement(A.a,{className:d.badge,color:"action",fontSize:"small"},u.a.createElement(Y.a,null)),b.attachments.length>0&&u.a.createElement(A.a,{className:d.badge,color:"action",fontSize:"small"},u.a.createElement(U.a,null)),b.checklists.length>0&&u.a.createElement(A.a,{className:d.badge,color:"action",fontSize:"small"},u.a.createElement(H.a,null)),b.comments.length>0&&u.a.createElement(A.a,{className:d.badge,color:"action",fontSize:"small"},u.a.createElement(K.a,null)),u.a.createElement(l.a,{flexGrow:1}),b.members.length>0&&u.a.createElement(T.a,{max:5},b.members.map((function(e){return u.a.createElement(M.a,{key:e.id,src:e.avatar})})))))),u.a.createElement(Ne,{open:E,onClose:function(){j(!1)},card:b,list:i}))}));ze.defaultProps={dragging:!1,style:{}};var Pe=ze,Ae=Object(i.a)((function(){return{root:{}}})),We=function(e){var t=e.className,a=e.listId,n=Object(f.a)(e,["className","listId"]),i=Ae(),m=Object(p.b)(),d=Object(o.b)().enqueueSnackbar,v=Object(s.useState)(!1),g=Object(C.a)(v,2),h=g[0],E=g[1],j=Object(s.useState)(""),k=Object(C.a)(j,2),x=k[0],w=k[1],y=function(){var e=Object(c.a)(r.a.mark((function e(){return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,m(Object(b.e)(a,x||"Untitled Card"));case 3:E(!1),w(""),d("Card created",{variant:"success"}),e.next=12;break;case 8:e.prev=8,e.t0=e.catch(0),console.error(e.t0),d("Something went wrong",{variant:"error"});case 12:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(){return e.apply(this,arguments)}}();return u.a.createElement("div",Object.assign({className:Object(O.a)(i.root,t)},n),h?u.a.createElement(u.a.Fragment,null,u.a.createElement(z.a,{fullWidth:!0,label:"Card Title",name:"cardName",onChange:function(e){e.persist(),w(e.target.value)},value:x,variant:"outlined"}),u.a.createElement(l.a,{mt:2,display:"flex",justifyContent:"space-between"},u.a.createElement(te.a,{onClick:function(){E(!1),w("")},variant:"text"},"Cancel"),u.a.createElement(te.a,{onClick:y,variant:"contained",color:"secondary"},"Add"))):u.a.createElement(l.a,{display:"flex",justifyContent:"center"},u.a.createElement(te.a,{onClick:function(){E(!0)}},"Add another card")))},Le=Object(i.a)((function(e){return{root:{},inner:Object(S.a)({marginLeft:e.spacing(1),marginRight:e.spacing(1),display:"flex",flexDirection:"column",maxHeight:"100%",overflowY:"hidden",overflowX:"hidden",width:380},e.breakpoints.down("xs"),{width:300}),title:{cursor:"pointer"},droppableArea:{minHeight:80,flexGrow:1,overflowY:"auto",paddingTop:e.spacing(1),paddingBottom:e.spacing(1),paddingLeft:e.spacing(2),paddingRight:e.spacing(2)},menu:{width:240}}})),Be=function(e){var t=e.className,a=e.listId,n=Object(f.a)(e,["className","listId"]),i=Le(),d=Object(s.useState)(!1),v=Object(C.a)(d,2),g=v[0],E=v[1],j=Object(p.c)((function(e){return function(e,t){return e.kanban.lists.byId[t]}(e,a)})),k=Object(p.b)(),x=Object(s.useRef)(null),w=Object(o.b)().enqueueSnackbar,S=Object(s.useState)(j.name),G=Object(C.a)(S,2),q=G[0],D=G[1],M=Object(s.useState)(!1),T=Object(C.a)(M,2),Y=T[0],U=T[1],H=function(){U(!0),E(!1)},K=function(){var e=Object(c.a)(r.a.mark((function e(){var t;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,q){e.next=5;break}return D(j.name),U(!1),e.abrupt("return");case 5:return t={name:q},U(!1),e.next=9,k(Object(b.q)(j.id,t));case 9:w("List updated",{variant:"success"}),e.next=16;break;case 12:e.prev=12,e.t0=e.catch(0),console.error(e.t0),w("Something went wrong",{variant:"error"});case 16:case"end":return e.stop()}}),e,null,[[0,12]])})));return function(){return e.apply(this,arguments)}}(),F=function(){var e=Object(c.a)(r.a.mark((function e(){return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,E(!1),e.next=4,k(Object(b.j)(j.id));case 4:w("List deleted",{variant:"success"}),e.next=11;break;case 7:e.prev=7,e.t0=e.catch(0),console.error(e.t0),w("Something went wrong",{variant:"error"});case 11:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(){return e.apply(this,arguments)}}(),J=function(){var e=Object(c.a)(r.a.mark((function e(){return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,E(!1),e.next=4,k(Object(b.d)(j.id));case 4:w("List cleared",{variant:"success"}),e.next=11;break;case 7:e.prev=7,e.t0=e.catch(0),console.error(e.t0),w("Something went wrong",{variant:"error"});case 11:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(){return e.apply(this,arguments)}}();return u.a.createElement("div",Object.assign({className:Object(O.a)(i.root,t)},n),u.a.createElement(N.a,{className:i.inner},u.a.createElement(l.a,{py:1,px:2,display:"flex",alignItems:"center"},Y?u.a.createElement(I.a,{onClickAway:K},u.a.createElement(z.a,{value:q,onBlur:K,onChange:function(e){e.persist(),D(e.target.value)},variant:"outlined",margin:"dense"})):u.a.createElement(h.a,{color:"inherit",variant:"h5",onClick:H},j.name),u.a.createElement(l.a,{flexGrow:1}),u.a.createElement(P.a,{color:"inherit",edge:"end",onClick:function(){E(!0)},ref:x},u.a.createElement(A.a,{fontSize:"small"},u.a.createElement(R.a,null)))),u.a.createElement(W.a,null),u.a.createElement(m.c,{droppableId:j.id,type:"card"},(function(e){return u.a.createElement("div",{ref:e.innerRef,className:i.droppableArea},j.cardIds.map((function(e,t){return u.a.createElement(m.b,{draggableId:e,index:t,key:e},(function(a,n){return u.a.createElement(Pe,Object.assign({cardId:e,dragging:n.isDragging,index:t,key:e,list:j,ref:a.innerRef,style:Object(y.a)({},a.draggableProps.style)},a.draggableProps,a.dragHandleProps))}))})),e.placeholder)})),u.a.createElement(W.a,null),u.a.createElement(l.a,{p:2},u.a.createElement(We,{listId:j.id})),u.a.createElement(L.a,{keepMounted:!0,anchorEl:x.current,open:g,onClose:function(){E(!1)},anchorOrigin:{vertical:"bottom",horizontal:"center"},PaperProps:{className:i.menu},getContentAnchorEl:null},u.a.createElement(B.a,{onClick:H},"Rename"),u.a.createElement(B.a,{onClick:J},"Clear"),u.a.createElement(B.a,{onClick:F},"Delete"))))},Re=Object(i.a)((function(e){return{root:{},inner:Object(S.a)({marginLeft:e.spacing(1),marginRight:e.spacing(1),width:380},e.breakpoints.down("xs"),{width:300})}})),Ge=function(e){var t=e.className,a=Object(f.a)(e,["className"]),n=Re(),i=Object(p.b)(),m=Object(o.b)().enqueueSnackbar,d=Object(s.useState)(!1),v=Object(C.a)(d,2),g=v[0],h=v[1],E=Object(s.useState)(""),j=Object(C.a)(E,2),k=j[0],x=j[1],w=function(){var e=Object(c.a)(r.a.mark((function e(){return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,i(Object(b.f)(k||"Untitled list"));case 3:h(!1),x(""),m("List created",{variant:"success"}),e.next=12;break;case 8:e.prev=8,e.t0=e.catch(0),console.error(e.t0),m("Something went wrong",{variant:"error"});case 12:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(){return e.apply(this,arguments)}}();return u.a.createElement("div",Object.assign({className:Object(O.a)(n.root,t)},a),u.a.createElement(G.a,{className:n.inner},u.a.createElement(l.a,{p:2},g?u.a.createElement(u.a.Fragment,null,u.a.createElement(z.a,{fullWidth:!0,label:"List Title",name:"listName",onChange:function(e){e.persist(),x(e.target.value)},value:k,variant:"outlined"}),u.a.createElement(l.a,{mt:2,display:"flex",justifyContent:"space-between"},u.a.createElement(te.a,{onClick:function(){h(!1),x("")},variant:"text"},"Cancel"),u.a.createElement(te.a,{onClick:w,variant:"contained",color:"secondary"},"Add"))):u.a.createElement(l.a,{display:"flex",justifyContent:"center"},u.a.createElement(te.a,{onClick:function(){h(!0)}},"Add another list")))))},qe=Object(i.a)((function(e){return{root:{backgroundColor:e.palette.background.dark,height:"100%",display:"flex",overflow:"hidden",flexDirection:"column"},content:{flexGrow:1,flexShrink:1,display:"flex",overflowY:"hidden",overflowX:"auto"},inner:{display:"flex",paddingBottom:e.spacing(3),paddingTop:e.spacing(3),paddingLeft:e.spacing(1),paddingRight:e.spacing(1)}}}));t.default=function(){var e=qe(),t=Object(p.b)(),a=Object(p.c)((function(e){return e.kanban})).lists,n=Object(o.b)().enqueueSnackbar,i=function(){var e=Object(c.a)(r.a.mark((function e(a){var c,i,l;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(c=a.source,i=a.destination,l=a.draggableId,e.prev=1,i){e.next=4;break}return e.abrupt("return");case 4:if(c.droppableId!==i.droppableId||c.index!==i.index){e.next=6;break}return e.abrupt("return");case 6:if(c.droppableId!==i.droppableId){e.next=11;break}return e.next=9,t(Object(b.l)(l,i.index));case 9:e.next=13;break;case 11:return e.next=13,t(Object(b.l)(l,i.index,i.droppableId));case 13:n("Card moved",{variant:"success"}),e.next=20;break;case 16:e.prev=16,e.t0=e.catch(1),console.error(e.t0),n("Something went wrong",{variant:"error"});case 20:case"end":return e.stop()}}),e,null,[[1,16]])})));return function(t){return e.apply(this,arguments)}}();return Object(s.useEffect)((function(){t(Object(b.k)())}),[t]),u.a.createElement(d.a,{className:e.root,title:"Kanban Board"},u.a.createElement(l.a,{p:3},u.a.createElement(w,null)),u.a.createElement(m.a,{onDragEnd:i},u.a.createElement("div",{className:e.content},u.a.createElement("div",{className:e.inner},a.allIds.map((function(e){return u.a.createElement(Be,{key:e,listId:e})})),u.a.createElement(Ge,null)))))}}}]);
//# sourceMappingURL=78.4d1aac43.chunk.js.map